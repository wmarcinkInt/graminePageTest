

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Gramine features &mdash; Gramine  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/gramine.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PAL host ABI" href="../pal/host-abi.html" />
    <link rel="prev" title="Packaging and distributing" href="packaging.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/gramine_logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ready-made protected applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../curated-installation.html">Ready-made confidential protected images</a></li>
</ul>
<p class="caption"><span class="caption-text">Protect your container</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gsc-installation.html">Gramine Shielded Containers</a></li>
</ul>
<p class="caption"><span class="caption-text">Protect your application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Gramine installation options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environment-setup.html">Set up the Gramine environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../run-sample-application.html">Run a sample application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-index.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Develop Gramine</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="building.html">Build and install Gramine from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging Gramine with GDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="new-syscall.html">Implementing new system call</a></li>
<li class="toctree-l1"><a class="reference internal" href="packaging.html">Packaging and distributing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Gramine features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#table-of-contents-abridged">Table of Contents (abridged)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#terminology">Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#list-of-system-calls">List of system calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="#list-of-pseudo-files">List of pseudo-files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux-features">Linux features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#processes">Processes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#threads">Threads</a></li>
<li class="toctree-l3"><a class="reference internal" href="#process-and-thread-identifiers">Process and thread identifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduling">Scheduling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-synchronization-futexes">Memory synchronization (futexes)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-management">Memory management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overview-of-inter-process-communication-ipc">Overview of Inter-Process Communication (IPC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#signals-and-process-state-changes">Signals and process state changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-and-group-identifiers">User and group identifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-systems">File systems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#file-system-operations">File system operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-locking">File locking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monitoring-filesystem-events-inotify-fanotify">Monitoring filesystem events (inotify, fanotify)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hard-links-and-soft-links-symbolic-links">Hard links and soft links (symbolic links)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pipes-and-fifos-named-pipes">Pipes and FIFOs (named pipes)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#networking-sockets">Networking (sockets)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tcp-ip-and-udp-ip-sockets">TCP/IP and UDP/IP sockets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unix-domain-sockets">UNIX domain sockets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-multiplexing">I/O multiplexing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#asynchronous-i-o">Asynchronous I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="#event-notifications-eventfd">Event notifications (eventfd)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#semaphores">Semaphores</a></li>
<li class="toctree-l3"><a class="reference internal" href="#message-queues">Message queues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shared-memory">Shared memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ioctls">IOCTLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date-and-time">Date and time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sleeps-timers-and-alarms">Sleeps, timers and alarms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#randomness">Randomness</a></li>
<li class="toctree-l3"><a class="reference internal" href="#system-information-and-resource-accounting">System information and resource accounting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#misc">Misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-infeasible-unimplemented-features">Advanced/infeasible, unimplemented features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gramine-specific-features">Gramine-specific features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#attestation">Attestation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#notes-on-system-v-abi">Notes on System V ABI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes-on-application-loading">Notes on application loading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pal/host-abi.html">PAL host ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts-index.html">Concepts</a></li>
</ul>
<p class="caption"><span class="caption-text">Contribute to Gramine</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Gramine</a></li>
<li class="toctree-l1"><a class="reference internal" href="onboarding.html">Onboarding</a></li>
<li class="toctree-l1"><a class="reference internal" href="DCO/index.html">Developer Certificate of Origin</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Development setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding-style.html">Coding style guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto-doc.html">How to write documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../management-team.html">Management Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gramine-users.html">Users of Gramine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Gramine</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Gramine features</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/devel/features.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">


           <div itemprop="articleBody">
            
  <!-- Cannot render this doc in reStructuredText as it has no support for nested inline markup. --><!-- If this document is moved to another dir, relative links must be modified. --><div class="section" id="gramine-features">
<h1>Gramine features<a class="headerlink" href="#gramine-features" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>⚠ This is a highly technical document intended for software engineers with knowledge of OS
kernels.</div></blockquote>
<blockquote>
<div>⛏ This is a living document. The last major update happened in <strong>March 2023</strong>.</div></blockquote>
<p>Gramine strives to <strong>run native, unmodified Linux applications</strong> on any platform. The SGX backend
additionally strives to <strong>provide security guarantees</strong>, in particular, protect against a malicious
host OS.</p>
<p>Gramine <strong>intercepts all application requests</strong> to the host OS. Some of these requests are processed
entirely inside Gramine, and some are funneled through a thin API to the host OS. Either way, each
application’s request and each host’s reply are verified for correctness and consistency. For these
verifications, Gramine maintains internal, “shadow” state. Thus, Gramine defends against <a class="reference external" href="https://dl.acm.org/doi/10.1145/2490301.2451145">Iago
attacks</a>.</p>
<p>Gramine strives to be <strong>100% compatible with the Linux kernel</strong>, even when it deviates from
standards like POSIX (“bug-for-bug compatibility”). At the same time, Gramine is minimalistic, and
implements <strong>only the most important subset of Linux functionality</strong>, enough to run portable,
hardware-independent applications.</p>
<p>Gramine currently has two backends: execution on the host Linux OS (called <code class="docutils literal notranslate"><span class="pre">gramine-direct</span></code>) and
execution inside an Intel SGX enclave (called <code class="docutils literal notranslate"><span class="pre">gramine-sgx</span></code>). If some feature has quirks and
peculiarities in some backend, we describe it explicitly. More backends are possible in the future.</p>
<p>Features implemented in Gramine can be classified as:</p>
<ul class="simple">
<li><strong>Linux features</strong>: features can be (1) implemented, (2) partially implemented, or (3) not
implemented at all in Gramine. If the feature is partially implemented, then we also document the
parts that are implemented and the parts that are not implemented. If the feature is not
implemented at all, we also specify whether there are plans to implement it in the future (and if
not, the rationale why not).<ul>
<li>Some features are <strong>not implemented by design</strong>: either they increase the Trusted Computing Base
(TCB) of Gramine disproportionately, or they cannot be implemented securely.</li>
<li>Other features are <strong>not implemented because they are unused</strong>: some Linux features are
deprecated or ill-conceived, and applications do not use them (or have fallbacks when these
features are not detected).</li>
</ul>
</li>
<li><strong>Gramine-specific features</strong>: additional features, e.g., attestation primitives. Note that this
document covers only APIs exposed to applications (like additional system calls and pseudo-files)
and doesn’t cover Gramine features transparent to the app (exitless, ASLR, debugging, etc.).</li>
</ul>
<p>Each feature has a list of related system calls and pseudo-files, for cross-reference.</p>
<div class="section" id="table-of-contents-abridged">
<h2>Table of Contents (abridged)<a class="headerlink" href="#table-of-contents-abridged" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="#list-of-system-calls">List of system calls</a></li>
<li><a class="reference external" href="#list-of-pseudo-files">List of pseudo-files</a></li>
<li><a class="reference external" href="#linux-features">Linux features</a></li>
<li><a class="reference external" href="#gramine-specific-features">Gramine-specific features</a></li>
<li><a class="reference external" href="#notes-on-system-v-abi">Notes on System V ABI</a></li>
<li><a class="reference external" href="#notes-on-application-loading">Notes on application loading</a></li>
</ul>
</div>
<div class="section" id="terminology">
<h2>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h2>
<p>Similarly to Linux, Gramine provides two interfaces to user applications:</p>
<ul class="simple">
<li><strong>Linux userspace-to-kernel interface</strong>, consisting of two sub-interfaces:<ul>
<li><strong>Linux System Call Interface</strong>: a set of system calls which allow applications to access system
resources and services. Examples: <code class="docutils literal notranslate"><span class="pre">open()</span></code>, <code class="docutils literal notranslate"><span class="pre">fork()</span></code>, <code class="docutils literal notranslate"><span class="pre">gettimeofday()</span></code>.</li>
<li><strong>Pseudo filesystems</strong>: a set of special directories with file contents containing information
about the Gramine instance, system resources, hardware configuration, etc. These filesystems are
generated on the fly upon Gramine startup. Examples: <code class="docutils literal notranslate"><span class="pre">/proc/cpuinfo</span></code>, <code class="docutils literal notranslate"><span class="pre">/dev/attestation/quote</span></code>.</li>
</ul>
</li>
<li><strong>Linux kernel-to-userspace interface</strong>, in particular, two standards:<ul>
<li><strong>System V ABI</strong>: defines how applications invoke system calls and receive signals.</li>
<li><strong>Executable and Linking Format (ELF)</strong>: defines how applications are loaded from binary files.</li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p>Legend:</p>
<ul class="simple">
<li>☑ implemented (no serious limitations)</li>
<li>▣ partially implemented (serious limitations or quirks)</li>
<li>☒ not implemented</li>
</ul>
</div>
<div class="section" id="list-of-system-calls">
<h2>List of system calls<a class="headerlink" href="#list-of-system-calls" title="Permalink to this headline">¶</a></h2>
<p>Gramine implements ~170 system calls out of ~360 system calls available on Linux. Many system calls
are implemented only partially, typically because real world workloads do not use the unimplemented
functionality (for example, <code class="docutils literal notranslate"><span class="pre">O_ASYNC</span></code> flag in <code class="docutils literal notranslate"><span class="pre">open()</span></code> is not used widely). Some system calls are
not implemented because they are deprecated in Linux, because they are unused by real world
applications or because they don’t fit the purpose of Gramine (“virtualize a single application”).</p>
<p>The list of implemented system calls grows with time, as Gramine adds functionality required by real
world workloads.</p>
<p>The below list is generated from the <a class="reference external" href="https://github.com/torvalds/linux/blob/v6.0/arch/x86/entry/syscalls/syscall_64.tbl">syscall table of Linux
6.0</a>.</p>
<details><summary>Status of system call support in Gramine</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">read()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">write()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">open()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">close()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">stat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fstat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">lstat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">poll()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">lseek()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mmap()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mprotect()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">munmap()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">brk()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigaction()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigprocmask()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigreturn()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">ioctl()</span></code>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#ioctls">18</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pread64()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pwrite64()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">readv()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">writev()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">access()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pipe()</span></code>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">select()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">sched_yield()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mremap()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">msync()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mincore()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">madvise()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">shmget()</span></code>
<sup><a class="reference external" href="#shared-memory">17</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">shmat()</span></code>
<sup><a class="reference external" href="#shared-memory">17</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">shmctl()</span></code>
<sup><a class="reference external" href="#shared-memory">17</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">dup()</span></code>
<sup><a class="reference external" href="#misc">23</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">dup2()</span></code>
<sup><a class="reference external" href="#misc">23</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pause()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">nanosleep()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getitimer()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">alarm()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setitimer()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getpid()</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendfile()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">socket()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">connect()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">accept()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendto()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">recvfrom()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendmsg()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">recvmsg()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">shutdown()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">bind()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">listen()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getsockname()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getpeername()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">socketpair()</span></code>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">setsockopt()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getsockopt()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">clone()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup>
<sup><a class="reference external" href="#threads">2</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fork()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">vfork()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">execve()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">exit()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup>
<sup><a class="reference external" href="#threads">2</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">wait4()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">kill()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">uname()</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">semget()</span></code>
<sup><a class="reference external" href="#semaphores">15</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">semop()</span></code>
<sup><a class="reference external" href="#semaphores">15</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">semctl()</span></code>
<sup><a class="reference external" href="#semaphores">15</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">shmdt()</span></code>
<sup><a class="reference external" href="#shared-memory">17</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">msgget()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">msgsnd()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">msgrcv()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">msgctl()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fcntl()</span></code>
<sup><a class="reference external" href="#file-locking">9b</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#misc">23</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">flock()</span></code>
<sup><a class="reference external" href="#file-locking">9b</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fsync()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fdatasync()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">truncate()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">ftruncate()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getdents()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getcwd()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">chdir()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fchdir()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">rename()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">mkdir()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rmdir()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">creat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">link()</span></code>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">unlink()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">symlink()</span></code>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">readlink()</span></code>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">chmod()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fchmod()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">chown()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fchown()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lchown()</span></code>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">umask()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">gettimeofday()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup>
<sup><a class="reference external" href="#misc">23</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getrlimit()</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getrusage()</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sysinfo()</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">times()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ptrace()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getuid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">syslog()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getgid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setuid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setgid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">geteuid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getegid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setpgid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getppid()</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getpgrp()</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setsid()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setreuid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setregid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getgroups()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setgroups()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setresuid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getresuid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setresgid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getresgid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getpgid()</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setfsuid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setfsgid()</span></code>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getsid()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">capget()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">capset()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigpending()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigtimedwait()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">rt_sigqueueinfo()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigsuspend()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">sigaltstack()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">utime()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mknod()</span></code>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">uselib()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">personality()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ustat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">statfs()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fstatfs()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sysfs()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getpriority()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setpriority()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_setparam()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_getparam()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_setscheduler()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_getscheduler()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_get_priority_max()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_get_priority_min()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_rr_get_interval()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mlock()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">munlock()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mlockall()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">munlockall()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">vhangup()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">modify_ldt()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pivot_root()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">_sysctl()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">prctl()</span></code>
<sup><a class="reference external" href="#threads">2</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">arch_prctl()</span></code>
<sup><a class="reference external" href="#threads">2</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">adjtimex()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setrlimit()</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">chroot()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sync()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">acct()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">settimeofday()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mount()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">umount2()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">swapon()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">swapoff()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">reboot()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sethostname()</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setdomainname()</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">iopl()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ioperm()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">create_module()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">init_module()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">delete_module()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">get_kernel_syms()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">query_module()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">quotactl()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">nfsservctl()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getpmsg()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">putpmsg()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">afs_syscall()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">tuxcall()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">security()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">gettid()</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">readahead()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lsetxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fsetxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lgetxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fgetxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">listxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">llistxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">flistxattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">removexattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lremovexattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fremovexattr()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">tkill()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">time()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">futex()</span></code>
<sup><a class="reference external" href="#memory-synchronization-futexes">5</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">sched_setaffinity()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">sched_getaffinity()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">set_thread_area()</span></code>
<sup><a class="reference external" href="#threads">2</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_setup()</span></code>
<sup><a class="reference external" href="#asynchronous-i-o">13</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_destroy()</span></code>
<sup><a class="reference external" href="#asynchronous-i-o">13</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_getevents()</span></code>
<sup><a class="reference external" href="#asynchronous-i-o">13</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_submit()</span></code>
<sup><a class="reference external" href="#asynchronous-i-o">13</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_cancel()</span></code>
<sup><a class="reference external" href="#asynchronous-i-o">13</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">get_thread_area()</span></code>
<sup><a class="reference external" href="#threads">2</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lookup_dcookie()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_create()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">remap_file_pages()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getdents64()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">set_tid_address()</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">restart_syscall()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">semtimedop()</span></code>
<sup><a class="reference external" href="#semaphores">15</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fadvise64()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_create()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_settime()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_gettime()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_getoverrun()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_delete()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">clock_settime()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">clock_gettime()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">clock_getres()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">clock_nanosleep()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">exit_group()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_wait()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_ctl()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">tgkill()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">utimes()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">vserver()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mbind()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">set_mempolicy()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">get_mempolicy()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_open()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_unlink()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_timedsend()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_timedreceive()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_notify()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_getsetattr()</span></code>
<sup><a class="reference external" href="#message-queues">16</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">kexec_load()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">waitid()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">add_key()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">request_key()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">keyctl()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ioprio_set()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ioprio_get()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">inotify_init()</span></code>
<sup><a class="reference external" href="#monitoring-filesystem-events-inotify-fanotify">9c</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">inotify_add_watch()</span></code>
<sup><a class="reference external" href="#monitoring-filesystem-events-inotify-fanotify">9c</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">inotify_rm_watch()</span></code>
<sup><a class="reference external" href="#monitoring-filesystem-events-inotify-fanotify">9c</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">migrate_pages()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">openat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">mkdirat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mknodat()</span></code>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fchownat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">futimesat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">newfstatat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">unlinkat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">renameat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">linkat()</span></code>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">symlinkat()</span></code>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">readlinkat()</span></code>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fchmodat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">faccessat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">pselect6()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">unshare()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">set_robust_list()</span></code>
<sup><a class="reference external" href="#memory-synchronization-futexes">5</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">get_robust_list()</span></code>
<sup><a class="reference external" href="#memory-synchronization-futexes">5</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">splice()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">tee()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sync_file_range()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">vmsplice()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">move_pages()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">utimensat()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">epoll_pwait()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">signalfd()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timerfd_create()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">eventfd()</span></code>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fallocate()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timerfd_settime()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timerfd_gettime()</span></code>
<sup><a class="reference external" href="#sleeps-timers-and-alarms">20</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">accept4()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">signalfd4()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">eventfd2()</span></code>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_create1()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">dup3()</span></code>
<sup><a class="reference external" href="#misc">23</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">pipe2()</span></code>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">inotify_init1()</span></code>
<sup><a class="reference external" href="#monitoring-filesystem-events-inotify-fanotify">9c</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">preadv()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pwritev()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">rt_tgsigqueueinfo()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">perf_event_open()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">recvmmsg()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fanotify_init()</span></code>
<sup><a class="reference external" href="#monitoring-filesystem-events-inotify-fanotify">9c</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fanotify_mark()</span></code>
<sup><a class="reference external" href="#monitoring-filesystem-events-inotify-fanotify">9c</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">prlimit64()</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">name_to_handle_at()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">open_by_handle_at()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">clock_adjtime()</span></code>
<sup><a class="reference external" href="#date-and-time">19</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">syncfs()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendmmsg()</span></code>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setns()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getcpu()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup>
<sup><a class="reference external" href="#misc">23</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_vm_readv()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_vm_writev()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">kcmp()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">finit_module()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sched_setattr()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sched_getattr()</span></code>
<sup><a class="reference external" href="#scheduling">4</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">renameat2()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">seccomp()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getrandom()</span></code>
<sup><a class="reference external" href="#randomness">21</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">memfd_create()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">kexec_file_load()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">bpf()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">execveat()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">userfaultfd()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">membarrier()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mlock2()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">copy_file_range()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">preadv2()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pwritev2()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pkey_mprotect()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pkey_alloc()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pkey_free()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">statx()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_pgetevents()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">rseq()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pidfd_send_signal()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_uring_setup()</span></code>
<sup><a class="reference external" href="#asynchronous-i-o">13</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_uring_enter()</span></code>
<sup><a class="reference external" href="#asynchronous-i-o">13</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_uring_register()</span></code>
<sup><a class="reference external" href="#asynchronous-i-o">13</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">open_tree()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">move_mount()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fsopen()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fsconfig()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fsmount()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fspick()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pidfd_open()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">clone3()</span></code>
<sup><a class="reference external" href="#processes">1</a></sup>
<sup><a class="reference external" href="#threads">2</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">close_range()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">openat2()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pidfd_getfd()</span></code>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">faccessat2()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_madvise()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_pwait2()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup>
<sup><a class="reference external" href="#pipes-and-fifos-named-pipes">10</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup>
<sup><a class="reference external" href="#i-o-multiplexing">12</a></sup>
<sup><a class="reference external" href="#event-notifications-eventfd">14</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mount_setattr()</span></code>
<sup><a class="reference external" href="#file-system-operations">9a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">quotactl_fd()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">landlock_create_ruleset()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">landlock_add_rule()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">landlock_restrict_self()</span></code>
<sup><a class="reference external" href="#advanced-infeasible-unimplemented-features">24</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">memfd_secret()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_mrelease()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup>
<sup><a class="reference external" href="#signals-and-process-state-changes">7</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">futex_waitv()</span></code>
<sup><a class="reference external" href="#memory-synchronization-futexes">5</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">set_mempolicy_home_node()</span></code>
<sup><a class="reference external" href="#memory-management">6</a></sup></li>
</ul>
</details><br /></div>
<div class="section" id="list-of-pseudo-files">
<h2>List of pseudo-files<a class="headerlink" href="#list-of-pseudo-files" title="Permalink to this headline">¶</a></h2>
<p>Gramine partially emulates Linux pseudo-filesystems: <code class="docutils literal notranslate"><span class="pre">/dev</span></code>, <code class="docutils literal notranslate"><span class="pre">/proc</span></code> and <code class="docutils literal notranslate"><span class="pre">/sys</span></code>.</p>
<p>Only a subset of most widely used pseudo-files is implemented. The list of implemented pseudo-files
grows with time, as Gramine adds functionality required by real-world workloads.</p>
<details><summary>List of all pseudo-files in Gramine</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/</span></code> <sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup>
<sup><a class="reference external" href="#semaphores">15</a></sup> <sup><a class="reference external" href="#shared-memory">17</a></sup> <sup><a class="reference external" href="#attestation">25</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/</span></code> <sup><a class="reference external" href="#attestation">25</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/attestation_type</span></code> <sup><a class="reference external" href="#attestation">25</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/user_report_data</span></code> <sup><a class="reference external" href="#attestation">25</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/target_info</span></code> <sup><a class="reference external" href="#attestation">25</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/my_target_info</span></code> <sup><a class="reference external" href="#attestation">25</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/report</span></code> <sup><a class="reference external" href="#attestation">25</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/keys</span></code> <sup><a class="reference external" href="#attestation">25</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/keys/&lt;key_name&gt;</span></code> <sup><a class="reference external" href="#attestation">25</a></sup></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/protected_files_key</span></code>
<sup><a class="reference external" href="#attestation">25</a></sup></li>
</ul>
</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/null</span></code> <sup><a class="reference external" href="#misc">23</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/zero</span></code> <sup><a class="reference external" href="#misc">23</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/random</span></code> <sup><a class="reference external" href="#randomness">21</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> <sup><a class="reference external" href="#randomness">21</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/dev/shm</span></code> <sup><a class="reference external" href="#semaphores">15</a></sup> <sup><a class="reference external" href="#shared-memory">17</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/stdin</span></code> <sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/stdout</span></code> <sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/stderr</span></code> <sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup> <sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/</span></code> (aka <code class="docutils literal notranslate"><span class="pre">/proc/self/</span></code>)
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/cmdline</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/cwd</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/exe</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/fd</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/maps</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/root</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/stat</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/statm</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/status</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#user-and-group-identifiers">8</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/task</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/cwd</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/exe</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/root</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#hard-links-and-soft-links-symbolic-links">9d</a></sup></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[local-tid]/</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-tid]/</span></code> <sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/cpuinfo</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/meminfo</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/stat</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/sys/</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup>
<sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup> <sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/sys/kernel/</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/sys/kernel/pid_max</span></code>
<sup><a class="reference external" href="#process-and-thread-identifiers">3</a></sup></li>
</ul>
</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/</span></code> <sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup>
<sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup><ul>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/core/</span></code> <sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/ipv4/</span></code> <sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/ipv6/</span></code> <sup><a class="reference external" href="#tcp-ip-and-udp-ip-sockets">11a</a></sup></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/unix/</span></code> <sup><a class="reference external" href="#unix-domain-sockets">11b</a></sup></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/coherency_line_size</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/level</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/number_of_sets</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/physical_line_partition</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/shared_cpu_map</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/size</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/type</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
</ul>
</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/online</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/core_id</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/core_siblings</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/physical_package_id</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/thread_siblings</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
</ul>
</li>
</ul>
</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/online</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/possible</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/cpumap</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/distance</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/hugepages/</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup><ul>
<li>▣
<code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/hugepages/hugepages-[y]/nr_hugepages</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/meminfo</span></code>
<sup><a class="reference external" href="#system-information-and-resource-accounting">22</a></sup></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</details><br /></div>
<div class="section" id="linux-features">
<h2>Linux features<a class="headerlink" href="#linux-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="processes">
<h3>Processes<a class="headerlink" href="#processes" title="Permalink to this headline">¶</a></h3>
<p>Gramine supports multi-processing. A Gramine instance starts the first (main) process, as specified
in the entrypoint of the manifest. The first process can spawn child processes, which belong to the
same Gramine instance.</p>
<p>Gramine can execute ELF binaries (executables and libraries) and executable scripts. Gramine
supports executing them as <a class="reference external" href="../manifest-syntax.html#libos-entrypoint">entrypoints</a> and via
<code class="docutils literal notranslate"><span class="pre">execve()</span></code> system call. In case of SGX backend, <code class="docutils literal notranslate"><span class="pre">execve()</span></code> execution replaces a calling program with
a new program <em>in the same SGX enclave</em>.</p>
<p>Gramine supports creating child processes using <code class="docutils literal notranslate"><span class="pre">fork()</span></code>, <code class="docutils literal notranslate"><span class="pre">vfork()</span></code> and <code class="docutils literal notranslate"><span class="pre">clone()</span></code> system calls.
<code class="docutils literal notranslate"><span class="pre">vfork()</span></code> is emulated via <code class="docutils literal notranslate"><span class="pre">fork()</span></code>. <code class="docutils literal notranslate"><span class="pre">clone()</span></code> always means a separate process with its own address
space (i.e., <code class="docutils literal notranslate"><span class="pre">CLONE_THREAD</span></code>, <code class="docutils literal notranslate"><span class="pre">CLONE_FILES</span></code>, etc. flags cannot be specified). In case of SGX backend,
child processes are created <em>in a new SGX enclave</em>.</p>
<p>Currently, Gramine does <em>not</em> fully support fork in multi-threaded applications. There is a <a class="reference external" href="https://github.com/gramineproject/gramine/issues/1156">known
bug in Gramine</a> that if one thread is
performing fork and another thread modifies the internal Gramine state, the state may get corrupted
(which may lead to failures).</p>
<p>Gramine supports process termination using <code class="docutils literal notranslate"><span class="pre">exit()</span></code> and <code class="docutils literal notranslate"><span class="pre">exit_group()</span></code> system calls. If there are
child processes executing and the first process exits, Gramine currently does <em>not</em> kill child
processes; this is however not a problem in practice because the host OS cleans up these orphaned
children.</p>
<p>All aforementioned system calls follow Linux semantics, barring the mentioned peculiarities.
However, properties of processes not supported by Gramine (e.g. namespaces, pidfd, etc.) are
ignored.</p>
<p>Gramine does <em>not</em> support disassociating parts of the process execution context (via <code class="docutils literal notranslate"><span class="pre">unshare()</span></code>
system call). Gramine does <em>not</em> support comparing two processes (via <code class="docutils literal notranslate"><span class="pre">kcmp()</span></code>).</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">execve()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">execveat()</span></code>: very rarely used by applications</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">clone()</span></code>: except exotic combination <code class="docutils literal notranslate"><span class="pre">CLONE_VM</span> <span class="pre">&amp;</span> <span class="pre">!CLONE_THREAD</span> <span class="pre">&amp;</span> <span class="pre">!CLONE_VFORK</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fork()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">vfork()</span></code>: with the same semantics as <code class="docutils literal notranslate"><span class="pre">fork()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">exit()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">exit_group()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">clone3()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">unshare()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">kcmp()</span></code>: very rarely used by applications</li>
</ul>
</details><details><summary>Additional materials</summary><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> environment variable is always propagated into new process, see
<a class="reference external" href="https://github.com/gramineproject/graphene/issues/2081">the issue</a>.</li>
</ul>
</details><br /></div>
<div class="section" id="threads">
<h3>Threads<a class="headerlink" href="#threads" title="Permalink to this headline">¶</a></h3>
<p>Gramine implements multi-threading. In case of SGX backend, all threads of one Gramine process run
in the same SGX enclave.</p>
<p>Gramine implements per-thread:</p>
<ul class="simple">
<li>information about signal (alternate) stack,</li>
<li>user/group IDs,</li>
<li>thread groups info,</li>
<li>signal mask, signal dispositions, signal queue,</li>
<li>futex robust list,</li>
<li>CPU affinity mask.</li>
</ul>
<p>Gramine supports creating threads using <code class="docutils literal notranslate"><span class="pre">clone(..</span> <span class="pre">CLONE_VM</span> <span class="pre">|</span> <span class="pre">CLONE_THREAD</span> <span class="pre">..)</span></code> system call and
destroying threads using <code class="docutils literal notranslate"><span class="pre">exit()</span></code> system call.</p>
<p>Gramine does <em>not</em> support manipulations of thread-local storage information (via
<code class="docutils literal notranslate"><span class="pre">get_thread_area()</span></code> and <code class="docutils literal notranslate"><span class="pre">set_thread_area()</span></code> system calls). Instead, Gramine supports setting
arch-specific (x86-specific) thread state via <code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_GET_FS)</span></code> and
<code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_SET_FS)</span></code>. Note that Gramine does <em>not</em> allow <code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_GET_GS)</span></code> and
<code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_SET_GS)</span></code> – the GS register is reserved for Gramine internal usage.</p>
<details><summary>Note on thread's stack size</summary><p>Gramine sets the same stack size for each thread. Gramine does <em>not</em> support dynamic growth of the
first-thread stack (as Linux does). The stack size in Gramine can be configured via the
<a class="reference external" href="../manifest-syntax.html#stack-size"><code class="docutils literal notranslate"><span class="pre">sys.stack.size</span></code> manifest option</a>.</p>
</details><details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">clone()</span></code>: must have combination <code class="docutils literal notranslate"><span class="pre">CLONE_VM</span> <span class="pre">|</span> <span class="pre">CLONE_THREAD</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">exit()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">get_thread_area()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">set_thread_area()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">prctl()</span></code>: very rarely used by applications</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">arch_prctl()</span></code>: only x86-specific subset of flags<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ARCH_GET_FS</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ARCH_SET_FS</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ARCH_GET_GS</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ARCH_SET_GS</span></code></li>
</ul>
</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">clone3()</span></code>: very rarely used by applications</li>
</ul>
</details><br /></div>
<div class="section" id="process-and-thread-identifiers">
<h3>Process and thread identifiers<a class="headerlink" href="#process-and-thread-identifiers" title="Permalink to this headline">¶</a></h3>
<p>Gramine supports the following identifiers: Process IDs (PIDs), Parent Process IDs (PPIDs),
Thread IDs (TIDs). The corresponding system calls are <code class="docutils literal notranslate"><span class="pre">getpid()</span></code>, <code class="docutils literal notranslate"><span class="pre">getppid()</span></code>, <code class="docutils literal notranslate"><span class="pre">gettid()</span></code>,
<code class="docutils literal notranslate"><span class="pre">set_tid_address()</span></code>.</p>
<p>Gramine has dummy support for Process Group IDs (PGIDs): PGID can only be get/set for the current
process. It is impossible to get/set PGIDs of other (e.g. child) processes. The corresponding system
calls are <code class="docutils literal notranslate"><span class="pre">getpgid()</span></code>, <code class="docutils literal notranslate"><span class="pre">getpgrp()</span></code>, <code class="docutils literal notranslate"><span class="pre">setpgid()</span></code>.</p>
<p>Gramine virtualizes process/thread identifiers. In other words, in-Gramine PIDs and TIDs have no
correlation with host-OS PIDs and TIDs. Each Gramine instance starts a main process with PID 1.</p>
<p>Gramine implements a subset of pseudo-files under <code class="docutils literal notranslate"><span class="pre">/proc/[pid]</span></code>: more pseudo-files for the current
process (aka <code class="docutils literal notranslate"><span class="pre">/proc/self</span></code>) and its threads, less pseudo-files for remote processes (e.g. children),
and no pseudo-files for remote threads. See the list under “Related pseudo-files”.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">getpid()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getppid()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">gettid()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">set_tid_address()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getpgid()</span></code>: dummy, see above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setpgid()</span></code>: dummy, see above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getpgrp()</span></code>: dummy, see above</li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/</span></code> (aka <code class="docutils literal notranslate"><span class="pre">/proc/self/</span></code>):
only most important files implemented<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/cmdline</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/cwd</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/exe</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/fd</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/maps</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/root</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/stat</span></code>: partially implemented<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pid</span></code>, <code class="docutils literal notranslate"><span class="pre">comm</span></code>, <code class="docutils literal notranslate"><span class="pre">ppid</span></code>, <code class="docutils literal notranslate"><span class="pre">pgrp</span></code>, <code class="docutils literal notranslate"><span class="pre">num_threads</span></code>, <code class="docutils literal notranslate"><span class="pre">vsize</span></code>, <code class="docutils literal notranslate"><span class="pre">rss</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">state</span></code>: always indicates “R” (running)</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">flags</span></code>: indicates only <code class="docutils literal notranslate"><span class="pre">PF_RANDOMIZE</span></code></li>
<li>☒ rest fields: always zero</li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/statm</span></code>: partially implemented<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">size</span></code>/<code class="docutils literal notranslate"><span class="pre">VmSize</span></code>, <code class="docutils literal notranslate"><span class="pre">resident</span></code>/<code class="docutils literal notranslate"><span class="pre">VmRSS</span></code></li>
<li>☒ rest fields: always zero</li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/status</span></code>: partially implemented<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">VmPeak</span></code></li>
<li>☒ rest fields: not printed</li>
</ul>
</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/task</span></code></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/</span></code>: minimally implemented<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/cwd</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/exe</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/root</span></code></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/[local-tid]/</span></code>: same as <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/[remote-tid]/</span></code>: very rarely used by applications</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/sys/kernel/pid_max</span></code></li>
</ul>
</details><br /></div>
<div class="section" id="scheduling">
<h3>Scheduling<a class="headerlink" href="#scheduling" title="Permalink to this headline">¶</a></h3>
<p>Gramine does <em>not</em> perform scheduling of threads, instead it relies on the host OS to perform
scheduling. In case of SGX backend, trying to perform or control scheduling would be futile because
SGX threat model has no means of control or verification of scheduling decisions of the host OS.</p>
<p>Gramine fully implements only a few scheduling system calls: <code class="docutils literal notranslate"><span class="pre">sched_yield()</span></code>, <code class="docutils literal notranslate"><span class="pre">sched_getaffinity()</span></code>,
<code class="docutils literal notranslate"><span class="pre">sched_setaffinity()</span></code>. Most other scheduling system calls in Gramine have dummy implementations:
they return some default sensible values and they do not send requests to the host OS. Finally,
<code class="docutils literal notranslate"><span class="pre">sched_getattr()</span></code> and <code class="docutils literal notranslate"><span class="pre">sched_setattr()</span></code> are not implemented in Gramine, as no applications use them.
In other words, applications running in Gramine cannot set scheduling policy or thread priorities,
and they cannot learn currently-used policy and priorities of the host OS. See the list under
“Related system calls”.</p>
<p>These dummy implementations serve Gramine well. We have not yet encountered applications that would
significantly benefit from scheduling system calls being properly implemented in Gramine.</p>
<p>To support CPU affinity masks and expose NUMA/CPU topology, Gramine implements
<code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/</span></code> and <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/</span></code> pseudo-files. See the list in the
<a class="reference external" href="#system-information-and-resource-accounting">“System information and resource accounting” section</a>.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">sched_yield()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">sched_getaffinity()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">sched_setaffinity()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getcpu()</span></code>: dummy, returns a random allowed CPU</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getpriority()</span></code>: dummy, returns default value</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setpriority()</span></code>: dummy, does nothing</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_getparam()</span></code>: dummy, returns default values</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_setparam()</span></code>: dummy, does nothing</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_getscheduler()</span></code>: dummy, returns default value</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_setscheduler()</span></code>: dummy, does nothing</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_get_priority_max()</span></code>: dummy, returns default
value</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_get_priority_min()</span></code>: dummy, returns default</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sched_rr_get_interval()</span></code>: dummy, returns default
value</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sched_getattr()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sched_setattr()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ioprio_get()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ioprio_set()</span></code>: very rarely used by applications</li>
</ul>
</details><br /></div>
<div class="section" id="memory-synchronization-futexes">
<h3>Memory synchronization (futexes)<a class="headerlink" href="#memory-synchronization-futexes" title="Permalink to this headline">¶</a></h3>
<p>Gramine partially implements futexes.</p>
<p>Current implementation is limited to one process, i.e., threads calling the <code class="docutils literal notranslate"><span class="pre">futex()</span></code> system call on
the same futex word must reside in the same process. Gramine does <em>not</em> support non-private futexes,
thus Gramine always assumes the <code class="docutils literal notranslate"><span class="pre">FUTEX_PRIVATE_FLAG</span></code> flag. We have not yet encountered applications
that would require inter-process futexes.</p>
<p>Gramine ignores the <code class="docutils literal notranslate"><span class="pre">FUTEX_CLOCK_REALTIME</span></code> flag.</p>
<p>Gramine supports the following futex operations: <code class="docutils literal notranslate"><span class="pre">FUTEX_WAIT</span></code>, <code class="docutils literal notranslate"><span class="pre">FUTEX_WAIT_BITSET</span></code>, <code class="docutils literal notranslate"><span class="pre">FUTEX_WAKE</span></code>,
<code class="docutils literal notranslate"><span class="pre">FUTEX_WAKE_BITSET</span></code>, <code class="docutils literal notranslate"><span class="pre">FUTEX_WAKE_OP</span></code>, <code class="docutils literal notranslate"><span class="pre">FUTEX_REQUEUE</span></code>, <code class="docutils literal notranslate"><span class="pre">FUTEX_CMP_REQUEUE</span></code>. Priority-inheritance
(PI) futexes and operations on them are <em>not</em> supported.</p>
<p>Gramine implements getting/setting the list of robust futexes, via <code class="docutils literal notranslate"><span class="pre">get_robust_list()</span></code> and
<code class="docutils literal notranslate"><span class="pre">set_robust_list()</span></code> system calls.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">futex()</span></code>: see notes above</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">get_robust_list()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">set_robust_list()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">futex_waitv()</span></code>: very rarely used by applications</li>
</ul>
</details><br /></div>
<div class="section" id="memory-management">
<h3>Memory management<a class="headerlink" href="#memory-management" title="Permalink to this headline">¶</a></h3>
<p>Gramine implements memory-management system calls: <code class="docutils literal notranslate"><span class="pre">mmap()</span></code>, <code class="docutils literal notranslate"><span class="pre">mprotect()</span></code>, <code class="docutils literal notranslate"><span class="pre">munmap()</span></code>, <code class="docutils literal notranslate"><span class="pre">brk()</span></code>, etc.
Some exotic flags and features are not implemented, but we didn’t observe any applications that
would fail or behave incorrectly because of that.</p>
<p><code class="docutils literal notranslate"><span class="pre">mmap()</span></code> supports anonymous (<code class="docutils literal notranslate"><span class="pre">MAP_ANONYMOUS</span></code>) and file-backed (<code class="docutils literal notranslate"><span class="pre">MAP_FILE</span></code>) mappings. All commonly
used flags like <code class="docutils literal notranslate"><span class="pre">MAP_SHARED</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_PRIVATE</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_FIXED</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_FIXED_NOREPLACE</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_STACK</span></code>,
<code class="docutils literal notranslate"><span class="pre">MAP_GROWSDOWN</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_32BIT</span></code> are supported.</p>
<p>In case of SGX backend, <code class="docutils literal notranslate"><span class="pre">MAP_SHARED</span></code> flag is ignored for anonymous mappings, and for file-backed
mappings, it depends on the type of file:</p>
<ul class="simple">
<li>disallowed for trusted files (these files are read-only, thus the flag is meaningless),</li>
<li>disallowed for allowed files (for security reasons: it would be easy to abuse it),</li>
<li>allowed for encrypted files (but synchronization happens only on explicit system calls like
<code class="docutils literal notranslate"><span class="pre">msync()</span></code> and <code class="docutils literal notranslate"><span class="pre">close()</span></code>).</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">MAP_LOCKED</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_NORESERVE</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_POPULATE</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_NONBLOCK</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_HUGETLB</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP_HUGE_2MB</span></code>,
<code class="docutils literal notranslate"><span class="pre">MAP_HUGE_1GB</span></code> flags are ignored (allowed but have no effect). <code class="docutils literal notranslate"><span class="pre">MAP_SYNC</span></code> flag is not supported.</p>
<p><code class="docutils literal notranslate"><span class="pre">mprotect()</span></code> supports all flags except <code class="docutils literal notranslate"><span class="pre">PROT_SEM</span></code> and <code class="docutils literal notranslate"><span class="pre">PROT_GROWSUP</span></code>. We haven’t encountered any
applications that would use these flags. In case of SGX backend, <code class="docutils literal notranslate"><span class="pre">mprotect()</span></code> behavior differs:</p>
<ul class="simple">
<li>on <a class="reference external" href="../sgx-intro.html#term-edmm">systems supporting EDMM</a>, <code class="docutils literal notranslate"><span class="pre">mprotect()</span></code> correctly applies
permissions;</li>
<li>on systems not supporting EDMM, all enclave memory is allocated with Read-Write-Execute
permissions, and <code class="docutils literal notranslate"><span class="pre">mprotect()</span></code> calls are silently ignored.</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">madvise()</span></code> implements only a minimal subset of functionality:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">MADV_DONTNEED</span></code> is partially supported:<ul>
<li>resetting writable file-backed mappings is not implemented;</li>
<li>zeroing non-writable mappings is not implemented;</li>
<li>all other cases are implemented.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">MADV_NORMAL</span></code>, <code class="docutils literal notranslate"><span class="pre">MADV_RANDOM</span></code>, <code class="docutils literal notranslate"><span class="pre">MADV_SEQUENTIAL</span></code>, <code class="docutils literal notranslate"><span class="pre">MADV_WILLNEED</span></code>, <code class="docutils literal notranslate"><span class="pre">MADV_FREE</span></code>,
<code class="docutils literal notranslate"><span class="pre">MADV_SOFT_OFFLINE</span></code>, <code class="docutils literal notranslate"><span class="pre">MADV_MERGEABLE</span></code>, <code class="docutils literal notranslate"><span class="pre">MADV_UNMERGEABLE</span></code>, <code class="docutils literal notranslate"><span class="pre">MADV_HUGEPAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">MADV_NOHUGEPAGE</span></code> are
ignored (allowed but have no effect).</li>
<li>All other advice values are not supported.</li>
</ul>
<p>Gramine does <em>not</em> support anonymous files (created via <code class="docutils literal notranslate"><span class="pre">memfd_create()</span></code>).</p>
<p>Quick summary of other memory-management system calls:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">munmap()</span></code> has nothing of note;</li>
<li><code class="docutils literal notranslate"><span class="pre">mremap()</span></code> is not implemented (very rarely used by applications);</li>
<li><code class="docutils literal notranslate"><span class="pre">msync()</span></code> implements only <code class="docutils literal notranslate"><span class="pre">MS_SYNC</span></code> and <code class="docutils literal notranslate"><span class="pre">MS_ASYNC</span></code> (<code class="docutils literal notranslate"><span class="pre">MS_INVALIDATE</span></code> is not implemented);</li>
<li><code class="docutils literal notranslate"><span class="pre">mbind()</span></code> is a no-op;</li>
<li><code class="docutils literal notranslate"><span class="pre">mincore()</span></code> always tells that pages are <em>not</em> in RAM;</li>
<li><code class="docutils literal notranslate"><span class="pre">set_mempolicy()</span></code> and <code class="docutils literal notranslate"><span class="pre">get_mempolicy</span></code> are not implemented;</li>
<li><code class="docutils literal notranslate"><span class="pre">mlock()</span></code>, <code class="docutils literal notranslate"><span class="pre">munlock()</span></code>, <code class="docutils literal notranslate"><span class="pre">mlockall()</span></code>, <code class="docutils literal notranslate"><span class="pre">munlockall()</span></code>, <code class="docutils literal notranslate"><span class="pre">mlock2()</span></code> are dummy (always return
success).</li>
</ul>
<p>As can be seen from above, many performance-improving system calls, flags and features are currently
<em>not</em> implemented by Gramine. Keep it in mind when you observe application performance degradation.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">brk()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mmap()</span></code>: see above for notes</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mprotect()</span></code>: see above for notes</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">munmap()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">msync()</span></code>: does not implement <code class="docutils literal notranslate"><span class="pre">MS_INVALIDATE</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">madvise()</span></code>: see above for notes</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mbind()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mincore()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mlock()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">munlock()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mlockall()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">munlockall()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mlock2()</span></code>: dummy</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mremap()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">remap_file_pages()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">set_mempolicy()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">get_mempolicy()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">memfd_create()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">memfd_secret()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">membarrier()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">move_pages()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">migrate_pages()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_madvise()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_mrelease()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">set_mempolicy_home_node()</span></code>: very rarely used by applications</li>
</ul>
</details><br /></div>
<div class="section" id="overview-of-inter-process-communication-ipc">
<h3>Overview of Inter-Process Communication (IPC)<a class="headerlink" href="#overview-of-inter-process-communication-ipc" title="Permalink to this headline">¶</a></h3>
<p>Gramine implements most of the Linux IPC mechanisms. In particular:</p>
<ul class="simple">
<li>☑ Signals and process state changes</li>
<li>☑ Pipes</li>
<li>☑ FIFOs (named pipes)</li>
<li>▣ UNIX domain sockets</li>
<li>▣ File locking</li>
<li>☒ Message queues</li>
<li>☒ Semaphores</li>
<li>☒ Shared memory</li>
</ul>
<p>Gramine implements pipes, FIFOs and UNIX domain sockets (UDSes) via host-OS pipes. In case of SGX
backend, all pipe, FIFO and UDS communication is transparently encrypted.</p>
<p>For all other IPC mechanisms – currently these are signals, process state changes, file locks –
Gramine emulates them via internal message passing (in case of SGX, all messages are encrypted).</p>
<p>Thus, Gramine implements all IPC primitives using a single host-OS primitive: pipes. This design
choice means that Gramine is a <em>distributed</em> Library OS, in contrast to the Linux kernel which is
monolithic. Each Gramine process knows only about its own state and must query peer Gramine
processes to learn their state; compare it to the Linux kernel which keeps a single state for all
processes running on top of it. Thus, all IPC in Gramine is performed using message passing over
host-OS pipes. To govern this message passing, the first Gramine process is designated a <em>leader</em>
which controls all message requests/responses among processes in one Gramine instance. For example,
if one Gramine process spawns a new child, it requests the leader to assign a PID for this child. As
another example, all POSIX-locking operations are synchronized using a special messaging protocol
that is managed by the leader.</p>
<p>Because of this Gramine peculiarity, IPC-intensive applications may experience performance
degradation. Also, some IPC-related system calls and pseudo-files are not implemented in Gramine due
to the complexity of message-passing implementation.</p>
<p>To learn more about Gramine support for each of the Linux IPC mechanisms, refer to corresponding
sections below.</p>
<details><summary>Additional materials</summary><ul class="simple">
<li>For Linux IPC overview, we recommend reading <a class="reference external" href="https://beej.us/guide/bgipc/html/">Beej’s Guide to Unix
IPC</a>.</li>
<li>In case of SGX backend, pipes, FIFOs, UDSes and all other IPC communication are encrypted using
the TLS-PSK (TLS with Pre-Shared Keys) protocol. The pre-shared key is randomly generated for each
new Gramine instance. Before establishing any pipe/IPC communication, two Gramine processes (e.g.,
parent and child) verify each other’s trustworthiness using SGX local attestation.</li>
</ul>
</details><br /></div>
<div class="section" id="signals-and-process-state-changes">
<h3>Signals and process state changes<a class="headerlink" href="#signals-and-process-state-changes" title="Permalink to this headline">¶</a></h3>
<p>Gramine partially implements signals (see below for some limitations). For local signals (Gramine
process signals itself, e.g. SIGABRT) and signals from the host OS (e.g. host sends SIGTERM),
message passing is not involved. For process-to-process signals (e.g. child process sends SIGCHLD to
the parent), message passing is used.</p>
<p>Gramine supports both standard signals and POSIX real-time signals. Queueing and delivery semantics
are the same as in Linux. Per-thread signal masks are supported. Restart of system calls after
signal handling (if flag <code class="docutils literal notranslate"><span class="pre">SA_RESTART</span></code> was specified) is supported.</p>
<p>Gramine implements signal dispositions, but some rarely used features are not implemented:</p>
<ul class="simple">
<li>core dump files are never produced,</li>
<li><code class="docutils literal notranslate"><span class="pre">SA_NOCLDSTOP</span></code> and <code class="docutils literal notranslate"><span class="pre">SA_NOCLDWAIT</span></code> signal-behavior flags are ignored,</li>
<li>only fields <code class="docutils literal notranslate"><span class="pre">si_signo</span></code>, <code class="docutils literal notranslate"><span class="pre">si_code</span></code>, <code class="docutils literal notranslate"><span class="pre">si_pid</span></code>, <code class="docutils literal notranslate"><span class="pre">si_uid</span></code>, <code class="docutils literal notranslate"><span class="pre">si_status</span></code>, <code class="docutils literal notranslate"><span class="pre">si_addr</span></code> in the data type
<code class="docutils literal notranslate"><span class="pre">siginfo_t</span></code> are populated.</li>
</ul>
<p>Gramine supports injecting a <a class="reference external" href="../manifest-syntax.html#external-sigterm-injection">single SIGTERM signal from the
host</a>. No other signals from the host are
supported. By default, Gramine ignores all signals sent by the host (including signals sent from
other applications or from other Gramine instances). This limitation is for security reasons,
relevant on SGX backend.</p>
<p>Gramine has some limitations on sending signals to processes and threads:</p>
<ul class="simple">
<li>sending a signal to a process group is not supported (e.g. <code class="docutils literal notranslate"><span class="pre">kill(0)</span></code> sends the signal only to the
current process but not to other processes),</li>
<li><code class="docutils literal notranslate"><span class="pre">tkill()</span></code> system call cannot send signals to threads in other processes.</li>
</ul>
<p>Gramine supports waiting for signals (via <code class="docutils literal notranslate"><span class="pre">pause()</span></code>, <code class="docutils literal notranslate"><span class="pre">rt_sigsuspend()</span></code>, etc. system calls).</p>
<p>Gramine supports waiting for processes via <code class="docutils literal notranslate"><span class="pre">wait4()</span></code> and <code class="docutils literal notranslate"><span class="pre">waitid()</span></code> system calls. However,
<code class="docutils literal notranslate"><span class="pre">WSTOPPED</span></code> and <code class="docutils literal notranslate"><span class="pre">WCONTINUED</span></code> options are not supported (we didn’t encounter applications that rely on
these options). Zombie processes are supported, though the “zombie” state is not reported in
<code class="docutils literal notranslate"><span class="pre">/proc/[pid]/stat</span></code> pseudo-file.</p>
<p>Gramine does <em>not</em> currently support file descriptors for signals (via <code class="docutils literal notranslate"><span class="pre">signalfd()</span></code>). Also, since
Gramine does not currently support pidfd, sending a signal via <code class="docutils literal notranslate"><span class="pre">pidfd_send_signal()</span></code> is not
implemented. Gramine also does <em>not</em> support file descriptors for handling page faults (via
<code class="docutils literal notranslate"><span class="pre">userfaultfd()</span></code>).</p>
<p>Gramine has limited support for pseudo-files that describe the state of remote processes/threads
(files under <code class="docutils literal notranslate"><span class="pre">/proc/[remote-pid]/</span></code> and <code class="docutils literal notranslate"><span class="pre">/proc/[remote-tid]/</span></code>). For details, refer to “Related
pseudo-files” in the <a class="reference external" href="#process-and-thread-identifiers">“Process and thread identifiers” section</a>.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">pause()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigaction()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigpending()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigprocmask()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigreturn()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigsuspend()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rt_sigtimedwait()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">sigaltstack()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">rt_sigqueueinfo()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">rt_tgsigqueueinfo()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">signalfd()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">signalfd4()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pidfd_open()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pidfd_getfd()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pidfd_send_signal()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_madvise()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_mrelease()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">userfaultfd()</span></code>: very rarely used by applications</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">kill()</span></code>: process groups not supported</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">tkill()</span></code>: remote threads not supported</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">tgkill()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">wait4()</span></code>: <code class="docutils literal notranslate"><span class="pre">WSTOPPED</span></code> and <code class="docutils literal notranslate"><span class="pre">WCONTINUED</span></code> not supported</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">waitid()</span></code>: <code class="docutils literal notranslate"><span class="pre">WSTOPPED</span></code> and <code class="docutils literal notranslate"><span class="pre">WCONTINUED</span></code> not supported</li>
</ul>
</details><br /></div>
<div class="section" id="user-and-group-identifiers">
<h3>User and group identifiers<a class="headerlink" href="#user-and-group-identifiers" title="Permalink to this headline">¶</a></h3>
<p>Gramine has dummy support for the following identifiers:</p>
<ul class="simple">
<li>Real user ID (UID) and Real group ID (GID),</li>
<li>Effective user ID (EUID) and Effective group ID (EGID),</li>
<li>Saved set-user-ID (SUID) and Saved set-group-ID (SGID).</li>
</ul>
<p>The corresponding system calls are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">getuid()</span></code>, <code class="docutils literal notranslate"><span class="pre">getgid()</span></code>, <code class="docutils literal notranslate"><span class="pre">setuid()</span></code>, <code class="docutils literal notranslate"><span class="pre">setgid()</span></code> for UID and GID (implemented);</li>
<li><code class="docutils literal notranslate"><span class="pre">geteuid()</span></code>, <code class="docutils literal notranslate"><span class="pre">getegid()</span></code> for EUID and EGID (implemented);</li>
<li><code class="docutils literal notranslate"><span class="pre">setreuid()</span></code>, <code class="docutils literal notranslate"><span class="pre">setregid()</span></code> for UID + EUID and GID + EGID (not implemented);</li>
<li><code class="docutils literal notranslate"><span class="pre">getresuid()</span></code>, <code class="docutils literal notranslate"><span class="pre">setresuid()</span></code>, <code class="docutils literal notranslate"><span class="pre">getresgid()</span></code>, <code class="docutils literal notranslate"><span class="pre">setresgid()</span></code> for UID + EUID + SUID
and GID + EGID + SGID (not implemented).</li>
</ul>
<p>Gramine starts the application with UID = EUID = SUID and equal to
<a class="reference external" href="../manifest-syntax.html#user-id-and-group-id"><code class="docutils literal notranslate"><span class="pre">loader.uid</span></code></a>. Similarly, the application is started
with GID = EGID = SGID and equal to <code class="docutils literal notranslate"><span class="pre">loader.gid</span></code>. If these manifest options are not set, then all
IDs are equal to zero, which means root user.</p>
<p>During execution, the application may modify these IDs, and the changes will be visible inside the
Gramine environment.</p>
<p>Gramine does <em>not</em> support Filesystem user ID (FSUID) and filesystem group ID (FSGID). The
corresponding system calls are <code class="docutils literal notranslate"><span class="pre">setfsuid()</span></code> and <code class="docutils literal notranslate"><span class="pre">setfsgid()</span></code> (not implemented).</p>
<p>Gramine has dummy support for Supplementary group IDs. The corresponding system calls are
<code class="docutils literal notranslate"><span class="pre">getgroups()</span></code> and <code class="docutils literal notranslate"><span class="pre">setgroups()</span></code>. Gramine starts the applications with an empty set of supplementary
groups. The application may modify this set, and the changes will be visible inside the Gramine
environment.</p>
<p>Currently, there are only two usages of user/group IDs in Gramine:</p>
<ul class="simple">
<li>changing ownership of a file via <code class="docutils literal notranslate"><span class="pre">chown()</span></code> and similar system calls;</li>
<li>passing user ID in the SIGCHLD signal information on child process termination (in
<code class="docutils literal notranslate"><span class="pre">siginfo_t::si_uid</span></code>).</li>
</ul>
<p>Gramine does <em>not</em> currently implement user/group ID fields in the <code class="docutils literal notranslate"><span class="pre">/proc/[pid]/status</span></code> pseudo-file.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">getuid()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getgid()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setuid()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setgid()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">geteuid()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getegid()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getgroups()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setgroups()</span></code>: dummy</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setreuid()</span></code>: very rarely used by applications, may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setregid()</span></code>: very rarely used by applications, may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getresuid()</span></code>: very rarely used by applications, may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setresuid()</span></code>: very rarely used by applications, may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getresgid()</span></code>: very rarely used by applications, may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setresgid()</span></code>: very rarely used by applications, may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setfsuid()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setfsgid()</span></code>: very rarely used by applications</li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/[this-pid]/status</span></code>: fields <code class="docutils literal notranslate"><span class="pre">Uid</span></code>, <code class="docutils literal notranslate"><span class="pre">Gid</span></code>, <code class="docutils literal notranslate"><span class="pre">Groups</span></code> are not implemented</li>
</ul>
</details><br /></div>
<div class="section" id="file-systems">
<h3>File systems<a class="headerlink" href="#file-systems" title="Permalink to this headline">¶</a></h3>
<p>Gramine implements file system operations, but with several peculiarities and limitations.</p>
<p>The most important peculiarity is that Gramine does <em>not</em> simply mirror the host OS’s directory
hierarchy. Instead, Gramine constructs its own view on the selected subset of host’s directories and
files: this is controlled by the manifest’s <a class="reference external" href="../manifest-syntax.html#fs-mount-points">FS mount points
(<code class="docutils literal notranslate"><span class="pre">fs.mounts</span></code>)</a>. This feature is similar to the <em>volumes</em>
concept in <a class="reference external" href="https://docs.docker.com/storage/volumes/">Docker</a>. This Gramine feature is introduced
for security.</p>
<p>Another peculiarity is that Gramine provides several types of filesystem mounts:</p>
<ul class="simple">
<li>passthrough mounts (contain unencrypted files, see below),</li>
<li>encrypted mounts (contain files that are automatically encrypted and integrity-protected).</li>
</ul>
<p>In case of SGX backend, passthrough mounts must be of one of two kinds:</p>
<ul class="simple">
<li>containing allowed files (not encrypted or cryptographically hashed),</li>
<li>containing trusted files (cryptographically hashed – effectively, their contents are mixed into
MRENCLAVE on SGX).</li>
</ul>
<p>Additionally, mounts may be hosted in one of two ways:</p>
<ul class="simple">
<li>on the host OS (in passthrough mounts),</li>
<li>inside the Gramine process (in <em>tmpfs</em> mounts).</li>
</ul>
<p>All files potentially used by the application must be specified in the manifest file. Instead of
single files, whole directories can be specified. Refer to the <a class="reference external" href="../manifest-syntax.html#manifest-syntax">manifest documentation for more
details</a>.</p>
<p>Gramine also provides a subset of pseudo-files that can be found in a Linux kernel. In particular,
Gramine automatically populates <code class="docutils literal notranslate"><span class="pre">/proc</span></code>, <code class="docutils literal notranslate"><span class="pre">/dev</span></code> and <code class="docutils literal notranslate"><span class="pre">/sys</span></code> pseudo-filesystems with most widely used
pseudo-files. The complete list can be found in the <a class="reference external" href="#list-of-pseudo-files">“List of pseudo-files”
section</a>.</p>
<p>The final peculiarity is that Gramine is a <em>distributed</em> Library OS, as discussed in <a class="reference external" href="#overview-of-inter-process-communication-ipc">“Overview of
Inter-Process Communication (IPC)” section</a>. This
means that each Gramine process knows only about its own FS state at any point in time, and must
consult the host OS and/or other Gramine processes to learn about any updates. Synchronizing the FS
state is a difficult task, and Gramine has only limited support for file sync. For example, two
Gramine processes may want to append data to the same file, but Gramine currently does not
synchronize such accesses, thus the file contents will be incorrectly overwritten.</p>
<p>Internally, FS implementation in Gramine follows the one in Linux kernel. Gramine implements a
Virtual File System (VFS), a uniform interface for various mount types. Gramine also has the
concepts of dentries (cached directory/file names for fast lookup) and inodes (metadata about
files).</p>
<p>Gramine does <em>not</em> implement full filesystem stack by design. Gramine relies on the host filesystem
for most operations. The only exceptions are the tmpfs filesystem and the pseudo-filesystems
(implemented entirely inside Gramine).</p>
<p>General FS limitations in Gramine include:</p>
<ul class="simple">
<li>no support for dynamic mounting: all mounts must be specified beforehand in the manifest;</li>
<li>no operations across mounts, e.g., no rename of file located in one mount to another one (note
that Linux also doesn’t support such operations);</li>
<li>no synchronization of file offsets, file sizes, etc. between Gramine processes;</li>
<li>tmpfs mounts (in-memory file systems) are not shared by Gramine processes;</li>
<li>File timestamps (access, modified, change timestamps) are not set/updated.</li>
</ul>
<details><summary>Additional materials</summary><p>A mechanism for FS synchronization, as well as a general redesign of certain FS components, is a
task Gramine will tackle in the future. Below are some discussions and RFCs:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/gramineproject/graphene/issues/2158">https://github.com/gramineproject/graphene/issues/2158</a></li>
<li><a class="reference external" href="https://github.com/gramineproject/gramine/issues/12">https://github.com/gramineproject/gramine/issues/12</a></li>
<li><a class="reference external" href="https://github.com/gramineproject/gramine/issues/584">https://github.com/gramineproject/gramine/issues/584</a></li>
<li><a class="reference external" href="https://github.com/gramineproject/gramine/issues/578">https://github.com/gramineproject/gramine/issues/578</a></li>
</ul>
</details><br /><div class="section" id="file-system-operations">
<h4>File system operations<a class="headerlink" href="#file-system-operations" title="Permalink to this headline">¶</a></h4>
<p>Gramine implements all classic file system operations, but with limitations described below.</p>
<p>Gramine supports opening files and directories (via <code class="docutils literal notranslate"><span class="pre">open()</span></code> and <code class="docutils literal notranslate"><span class="pre">openat()</span></code> system calls).
<code class="docutils literal notranslate"><span class="pre">O_CLOEXEC</span></code>, <code class="docutils literal notranslate"><span class="pre">O_CREAT</span></code>, <code class="docutils literal notranslate"><span class="pre">O_DIRECTORY</span></code>, <code class="docutils literal notranslate"><span class="pre">O_EXCL</span></code>, <code class="docutils literal notranslate"><span class="pre">O_NOFOLLOW</span></code>, <code class="docutils literal notranslate"><span class="pre">O_PATH</span></code>, <code class="docutils literal notranslate"><span class="pre">O_TRUNC</span></code> flags are
supported. Other flags are ignored. Notable ignored flags are <code class="docutils literal notranslate"><span class="pre">O_APPEND</span></code> (not yet implemented in
Gramine) and <code class="docutils literal notranslate"><span class="pre">O_TMPFILE</span></code> (bug in Gramine: should not be silently ignored).</p>
<p>Trusted files can be opened only for reading. Already-existing encrypted files can be opened only if
they were not moved or renamed on the host (this is for protection against file renaming attacks).</p>
<p>Gramine supports creating files and directories (via <code class="docutils literal notranslate"><span class="pre">creat()</span></code>, <code class="docutils literal notranslate"><span class="pre">mkdir()</span></code>, <code class="docutils literal notranslate"><span class="pre">mkdirat()</span></code> system
calls), reading directories (via <code class="docutils literal notranslate"><span class="pre">getdents()</span></code>), deleting files and directories (via <code class="docutils literal notranslate"><span class="pre">unlink()</span></code>,
<code class="docutils literal notranslate"><span class="pre">unlinkat()</span></code>, <code class="docutils literal notranslate"><span class="pre">rmdir()</span></code>), renaming files and directories (via <code class="docutils literal notranslate"><span class="pre">rename()</span></code> and <code class="docutils literal notranslate"><span class="pre">renameat()</span></code>).</p>
<p>Gramine supports read and write operations on files. Appending to files is currently unsupported.
Writing to trusted files is prohibited.</p>
<p>Gramine supports seek operations on files (<code class="docutils literal notranslate"><span class="pre">lseek()</span></code>). However, seek operation happens entirely
inside Gramine (by changing the file offset), and thus may behave incorrectly on host’s device files
(which may reimplement the seek operation in a special way).</p>
<p>Gramine supports mmap and msync operations on files. For more information, see the <a class="reference external" href="#memory-management">“Memory
management” section</a>.</p>
<p>Gramine has dummy support for polling on files via <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code>, <code class="docutils literal notranslate"><span class="pre">select()</span></code> system calls.
Regular files always return events “there is data to read” and “writing is possible”. Other files
return an error code.</p>
<p>Gramine does <em>not</em> support epoll on files.</p>
<p>Gramine supports file flushes (via <code class="docutils literal notranslate"><span class="pre">fsync()</span></code> and <code class="docutils literal notranslate"><span class="pre">fdatasync()</span></code>). However, flushing filesystem
metadata (<code class="docutils literal notranslate"><span class="pre">sync()</span></code> and <code class="docutils literal notranslate"><span class="pre">syncfs()</span></code>) is not supported. Similarly, <code class="docutils literal notranslate"><span class="pre">sync_file_range()</span></code> system call is
currently not supported.</p>
<p>Gramine supports file truncation (via <code class="docutils literal notranslate"><span class="pre">truncate()</span></code> and <code class="docutils literal notranslate"><span class="pre">ftruncate()</span></code>). There is one exception
currently: shrinking encrypted files to arbitrary size is not supported (only shrink-to-zero is
supported).</p>
<p>Gramine has very limited support of <code class="docutils literal notranslate"><span class="pre">fallocate()</span></code> system call. Only mode 0 is supported (“allocating
disk space”). The emulation of this mode simply extends the file size if applicable, otherwise does
nothing. In other words, this system call doesn’t provide reliability or performance guarantees.</p>
<p>Gramine has dummy support of <code class="docutils literal notranslate"><span class="pre">fadvise64()</span></code> system call. The emulation does nothing and always
returns success. In other words, this system call doesn’t provide any performance improvement.</p>
<p>Gramine has support for file mode bits. The <code class="docutils literal notranslate"><span class="pre">chmod()</span></code>, <code class="docutils literal notranslate"><span class="pre">fchmodat()</span></code>, <code class="docutils literal notranslate"><span class="pre">fchmod()</span></code> system calls
correctly set the file mode. The <code class="docutils literal notranslate"><span class="pre">umask()</span></code> system call is also supported.</p>
<p>Gramine has dummy support for file owner and group manipulations. In Gramine, users and groups are
dummy; see the <a class="reference external" href="#user-and-group-identifiers">“User and group identifiers” section</a> for details.
Therefore, <code class="docutils literal notranslate"><span class="pre">chown()</span></code>, <code class="docutils literal notranslate"><span class="pre">fchownat()</span></code>, <code class="docutils literal notranslate"><span class="pre">fchown()</span></code> system calls update UID and GID inside the
Gramine environment, but not on host files.</p>
<p>Gramine supports checking permissions on the file via <code class="docutils literal notranslate"><span class="pre">access()</span></code> and <code class="docutils literal notranslate"><span class="pre">faccessat()</span></code> system calls.
Recall however that users and groups are dummy in Gramine, thus the checks are also largely
irrelevant.</p>
<p>Gramine implements <code class="docutils literal notranslate"><span class="pre">sendfile()</span></code> system call. However, this system call is emulated in an inefficient
way (for simplicity). Pay attention to this if your application relies heavily on <code class="docutils literal notranslate"><span class="pre">sendfile()</span></code>.</p>
<p>Gramine supports directory operations: <code class="docutils literal notranslate"><span class="pre">chdir()</span></code> and <code class="docutils literal notranslate"><span class="pre">fchdir()</span></code> to change the working directory, and
<code class="docutils literal notranslate"><span class="pre">getcwd()</span></code> to get the current working directory.</p>
<p>Gramine partially supports getting file status (information about files), via <code class="docutils literal notranslate"><span class="pre">stat()</span></code>, <code class="docutils literal notranslate"><span class="pre">lstat()</span></code>,
<code class="docutils literal notranslate"><span class="pre">fstat()</span></code>, <code class="docutils literal notranslate"><span class="pre">newfstatat()</span></code> system calls. The only fields populated in the output buffer are
<code class="docutils literal notranslate"><span class="pre">st_mode</span></code>, <code class="docutils literal notranslate"><span class="pre">st_size</span></code>, <code class="docutils literal notranslate"><span class="pre">st_uid</span></code>, <code class="docutils literal notranslate"><span class="pre">st_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">st_blksize</span></code> (with hard-coded value), <code class="docutils literal notranslate"><span class="pre">st_nlink</span></code> (with
hard-coded value), <code class="docutils literal notranslate"><span class="pre">st_dev</span></code>, <code class="docutils literal notranslate"><span class="pre">st_ino</span></code>. Note that Gramine currently doesn’t support links, so
<code class="docutils literal notranslate"><span class="pre">lstat()</span></code> always resolves to a file (never to a symlink).</p>
<p>Gramine has dummy support for getting filesystem statistics via <code class="docutils literal notranslate"><span class="pre">statfs()</span></code> and <code class="docutils literal notranslate"><span class="pre">fstatfs()</span></code>. The only
fields populated in the output buffer are <code class="docutils literal notranslate"><span class="pre">f_bsize</span></code>, <code class="docutils literal notranslate"><span class="pre">f_blocks</span></code>, <code class="docutils literal notranslate"><span class="pre">f_bfree</span></code> and <code class="docutils literal notranslate"><span class="pre">f_bavail</span></code>, and they
all have hard-coded values.</p>
<p>Gramine currently does <em>not</em> support changing file access/modification times, via <code class="docutils literal notranslate"><span class="pre">utime()</span></code>,
<code class="docutils literal notranslate"><span class="pre">utimes()</span></code>, <code class="docutils literal notranslate"><span class="pre">futimesat()</span></code>, <code class="docutils literal notranslate"><span class="pre">utimensat()</span></code> system calls.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">open()</span></code>: implemented, with limitations</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">openat()</span></code>: implemented, with limitations</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">close()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">creat()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">mkdir()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">mkdirat()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getdents()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getdents64()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">unlink()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">unlinkat()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">rmdir()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">rename()</span></code>: cannot rename across mounts</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">renameat()</span></code>: cannot rename across mounts</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">read()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pread64()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">readv()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">preadv()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">write()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pwrite64()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">writev()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pwritev()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">lseek()</span></code>: see note above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mmap()</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">msync()</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">select()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">pselect6()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">poll()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code>: dummy</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fsync()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fdatasync()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">truncate()</span></code>: see note above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">ftruncate()</span></code>: see note above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fallocate()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fadvise64()</span></code>: dummy</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">chmod()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fchmod()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fchmodat()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">chown()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fchown()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fchownat()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">access()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">faccessat()</span></code>: dummy</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">umask()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendfile()</span></code>: unoptimized</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">chdir()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fchdir()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getcwd()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">stat()</span></code>: partially dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fstat()</span></code>: partially dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">lstat()</span></code>: partially dummy, always resolves to actual
file</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">newfstatat()</span></code>: partially dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">statfs()</span></code>: partially dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fstatfs()</span></code>: partially dummy</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">chroot()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">name_to_handle_at()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">open_by_handle_at()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">openat2()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">renameat2()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">preadv2()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pwritev2()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_create()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_create1()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_wait()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_pwait()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_pwait2()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_ctl()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sync()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">syncfs()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sync_file_range()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">faccessat2()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">statx()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">sysfs()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ustat()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mount()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">move_mount()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">umount2()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mount_setattr()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pivot_root()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">utime()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">utimes()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">futimesat()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">utimensat()</span></code>: may be implemented in the future</li>
</ul>
</details><br /></div>
<div class="section" id="file-locking">
<h4>File locking<a class="headerlink" href="#file-locking" title="Permalink to this headline">¶</a></h4>
<p>File locking operations can be considered one of the IPC mechanisms, as discussed in <a class="reference external" href="#overview-of-inter-process-communication-ipc">“Overview of
Inter-Process Communication (IPC)” section</a>. Thus,
file locks are implemented via message passing in Gramine, and all lock-requests are handled in the
main (leader) process.</p>
<p>Gramine currently implements POSIX locks aka Advisory record locks. In particular, the following
operations are implemented: <code class="docutils literal notranslate"><span class="pre">fcntl(F_SETLK)</span></code>, <code class="docutils literal notranslate"><span class="pre">fcntl(F_SETLKW)</span></code> and <code class="docutils literal notranslate"><span class="pre">fcntl(F_GETLK)</span></code>.</p>
<p>The current implementation has the following caveats:</p>
<ul class="simple">
<li>Lock requests from other processes will always have the overhead of IPC round-trip, even if the
lock is uncontested.</li>
<li>The main process has to be able to look up the same file, so locking will not work for files in
local-process-only filesystems (e.g. tmpfs).</li>
<li>There is no deadlock detection (<code class="docutils literal notranslate"><span class="pre">EDEADLK</span></code>).</li>
<li>The lock requests cannot be interrupted (<code class="docutils literal notranslate"><span class="pre">EINTR</span></code>).</li>
<li>The locks work only on regular files (no pipes, sockets etc.).</li>
</ul>
<p>Gramine does <em>not</em> currently implement the <code class="docutils literal notranslate"><span class="pre">flock()</span></code> system call.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">fcntl()</span></code><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">F_SETLK</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">F_SETLKW</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">F_GETLK</span></code>: see notes above</li>
</ul>
</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">flock()</span></code>: may be implemented in the future</li>
</ul>
</details><br /></div>
<div class="section" id="monitoring-filesystem-events-inotify-fanotify">
<h4>Monitoring filesystem events (inotify, fanotify)<a class="headerlink" href="#monitoring-filesystem-events-inotify-fanotify" title="Permalink to this headline">¶</a></h4>
<p>Gramine does <em>not</em> currently implement inotify and fanotify APIs. Gramine could implement them in
the future, if need arises.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">inotify_init()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">inotify_init1()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">inotify_add_watch()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">inotify_rm_watch()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fanotify_init()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fanotify_mark()</span></code></li>
</ul>
</details><br /></div>
<div class="section" id="hard-links-and-soft-links-symbolic-links">
<h4>Hard links and soft links (symbolic links)<a class="headerlink" href="#hard-links-and-soft-links-symbolic-links" title="Permalink to this headline">¶</a></h4>
<p>There are two notions that must be discussed separately:</p>
<ol class="simple">
<li>Host OS’s links: Gramine sees them as normal files. On Linux host, these links are currently
always followed during directory/file lookup.</li>
<li>In-Gramine links: Gramine has no support for links (i.e., applications cannot create links).<ul>
<li>There is one exception: some pseudo-files like <code class="docutils literal notranslate"><span class="pre">/proc/[pid]/cwd</span></code> and <code class="docutils literal notranslate"><span class="pre">/proc/self</span></code>.</li>
</ul>
</li>
</ol>
<p>The above means that Gramine does not implement <code class="docutils literal notranslate"><span class="pre">link()</span></code> and <code class="docutils literal notranslate"><span class="pre">symlink()</span></code> system calls. Support for
<code class="docutils literal notranslate"><span class="pre">readlink()</span></code> system call is limited to only pseudo-files’ links mentioned above.</p>
<p>Gramine may implement hard and soft links in the future.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">link()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">symlink()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">readlink()</span></code>: see note above</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">linkat()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">symlinkat()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">readlinkat()</span></code>: see note above</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lchown()</span></code></li>
</ul>
</details><details><summary>Related pseudo-files</summary><p>The following pseudo-files are symlinks. See also “Related pseudo-files” in the <a class="reference external" href="#process-and-thread-identifiers">“Process and thread
identifiers” section</a>.</p>
<ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/stdin</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/stdout</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/stderr</span></code></li>
</ul>
</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/self/</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[pid]/</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[pid]/cwd</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[pid]/exe</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/proc/[pid]/root</span></code></li>
</ul>
</li>
</ul>
</details><br /></div>
</div>
<div class="section" id="pipes-and-fifos-named-pipes">
<h3>Pipes and FIFOs (named pipes)<a class="headerlink" href="#pipes-and-fifos-named-pipes" title="Permalink to this headline">¶</a></h3>
<p>Pipes and FIFOs are emulated in Gramine directly as host-level pipes (to be more specific, as
socketpairs for Linux hosts). In case of SGX backend, pipes and FIFOs are transparently encrypted.
For additional information on general properties of IPC in Gramine, see the <a class="reference external" href="#overview-of-inter-process-communication-ipc">“Overview of
Inter-Process Communication (IPC)” section</a>.</p>
<p>Gramine does <em>not</em> allow pipe/FIFO communication between Gramine processes and the host. Gramine
also does <em>not</em> allow communication between Gramine processes from two different Gramine instances.
Communication on pipes/FIFOs is possible only between two Gramine processes in the same Gramine
instance.</p>
<p>Gramine does <em>not</em> allow more than two parties on one pipe/FIFO. For example, it is impossible to
implement an SPMC (Single Producer Multiple Consumers) queue using a single pipe/FIFO. (We have not
encountered applications that would try to use such patterns though.)</p>
<p>Gramine supports creating pipes (via <code class="docutils literal notranslate"><span class="pre">pipe()</span></code> and <code class="docutils literal notranslate"><span class="pre">pipe2()</span></code>) and FIFOs (via <code class="docutils literal notranslate"><span class="pre">mknod(S_ISFIFO)</span></code> and
<code class="docutils literal notranslate"><span class="pre">mknodat(S_ISFIFO)</span></code>). The <code class="docutils literal notranslate"><span class="pre">O_DIRECT</span></code> flag while creating pipes with <code class="docutils literal notranslate"><span class="pre">pipe2()</span></code> is ignored. Blocking
and non-blocking pipes/FIFOs (<code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code> flag) are supported.</p>
<p>Gramine supports read and write operations on pipes and FIFOs. Gramine supports generation of the
<code class="docutils literal notranslate"><span class="pre">SIGPIPE</span></code> signal on write operation if the read end of a pipe has been closed. Polling on pipes and
FIFOs is supported.</p>
<p>Gramine supports getting information about pipes/FIFOs via the <code class="docutils literal notranslate"><span class="pre">fstat()</span></code> and <code class="docutils literal notranslate"><span class="pre">newfstatat()</span></code> system
calls. The only fields populated in the output buffer are <code class="docutils literal notranslate"><span class="pre">st_uid</span></code>, <code class="docutils literal notranslate"><span class="pre">st_gid</span></code> and <code class="docutils literal notranslate"><span class="pre">st_mode</span></code>. Gramine
also supports getting the number of unread bytes in the pipe via <code class="docutils literal notranslate"><span class="pre">ioctl(FIONREAD)</span></code>.</p>
<p>Gramine supports getting and setting pipe/FIFO status flags via <code class="docutils literal notranslate"><span class="pre">fcntl(F_GETFL)</span></code> and
<code class="docutils literal notranslate"><span class="pre">fcntl(F_SETFL)</span></code>. The only currently supported flag is <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code>; <code class="docutils literal notranslate"><span class="pre">O_ASYNC</span></code> is not supported.
Gramine also supports setting blocking/non-blocking mode via <code class="docutils literal notranslate"><span class="pre">ioctl(FIONBIO)</span></code>.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">pipe()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">pipe2()</span></code>: <code class="docutils literal notranslate"><span class="pre">O_DIRECT</span></code> flag is ignored</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mknod()</span></code>: <code class="docutils literal notranslate"><span class="pre">S_ISFIFO</span></code> type is supported</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">mknodat()</span></code>: <code class="docutils literal notranslate"><span class="pre">S_ISFIFO</span></code> type is supported</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">close()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fstat()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">read()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">readv()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">write()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">writev()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">select()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pselect6()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">poll()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_create()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_create1()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_wait()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_pwait()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_ctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_pwait2()</span></code>: very rarely used by applications</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendfile()</span></code>: unoptimized</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fcntl()</span></code><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">F_GETFL</span></code>: only <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">F_SETFL</span></code>: only <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">F_GETPIPE_SZ</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">F_SETPIPE_SZ</span></code>: very rarely used by applications</li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">ioctl()</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIONREAD</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIONBIO</span></code></li>
</ul>
</li>
</ul>
</details><br /></div>
<div class="section" id="networking-sockets">
<h3>Networking (sockets)<a class="headerlink" href="#networking-sockets" title="Permalink to this headline">¶</a></h3>
<p>Gramine supports the most important networking protocols. In particular, Gramine supports only the
following protocol families:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">AF_INET</span></code> (IPv4 Internet protocols, e.g. TCP/IP and UDP/IP),</li>
<li><code class="docutils literal notranslate"><span class="pre">AF_INET6</span></code> (IPv6 Internet protocols, e.g. TCP/IP and UDP/IP),</li>
<li><code class="docutils literal notranslate"><span class="pre">AF_UNIX</span></code> aka <code class="docutils literal notranslate"><span class="pre">AF_LOCAL</span></code> (UNIX domain sockets).</li>
</ul>
<p>Gramine supports only two types of sockets:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SOCK_STREAM</span></code> (connection-based byte streams),</li>
<li><code class="docutils literal notranslate"><span class="pre">SOCK_DGRAM</span></code> (connectionless datagrams).</li>
</ul>
<p>Gramine supports TCP/IP sockets and UDP/IP sockets, i.e. the combinations <code class="docutils literal notranslate"><span class="pre">AF_INET</span></code>/<code class="docutils literal notranslate"><span class="pre">AF_INET6</span></code> +
<code class="docutils literal notranslate"><span class="pre">SOCK_STREAM</span></code> and <code class="docutils literal notranslate"><span class="pre">AF_INET</span></code>/<code class="docutils literal notranslate"><span class="pre">AF_INET6</span></code> + <code class="docutils literal notranslate"><span class="pre">SOCK_DGRAM</span></code> respectively. Gramine supports stream UNIX
domain sockets (<code class="docutils literal notranslate"><span class="pre">AF_UNIX</span></code> + <code class="docutils literal notranslate"><span class="pre">SOCK_STREAM</span></code>), but does <em>not</em> support datagram UNIX domain sockets
(<code class="docutils literal notranslate"><span class="pre">AF_UNIX</span></code> + <code class="docutils literal notranslate"><span class="pre">SOCK_DGRAM</span></code>).</p>
<p>Non-blocking sockets (<code class="docutils literal notranslate"><span class="pre">SOCK_NONBLOCK</span></code>) are supported. Generation of the <code class="docutils literal notranslate"><span class="pre">SIGPIPE</span></code> signal on send
operation if the receive end of a socket has been closed is supported.</p>
<p>Gramine does <em>not</em> implement full network stack by design. Gramine relies on the host network stack
for most operations.</p>
<p>Other networking limitations in Gramine include:</p>
<ul class="simple">
<li>no support for auto binding in the <code class="docutils literal notranslate"><span class="pre">listen()</span></code> system call;</li>
<li>no support for ancillary data (aka control messages).</li>
</ul>
<div class="section" id="tcp-ip-and-udp-ip-sockets">
<h4>TCP/IP and UDP/IP sockets<a class="headerlink" href="#tcp-ip-and-udp-ip-sockets" title="Permalink to this headline">¶</a></h4>
<p>TCP/IP and UDP/IP sockets (TCP and UDP for short) support all Berkeley sockets APIs, including
<code class="docutils literal notranslate"><span class="pre">socket()</span></code>, <code class="docutils literal notranslate"><span class="pre">bind()</span></code>, <code class="docutils literal notranslate"><span class="pre">listen()</span></code>, <code class="docutils literal notranslate"><span class="pre">connect()</span></code>, <code class="docutils literal notranslate"><span class="pre">accept()</span></code>, <code class="docutils literal notranslate"><span class="pre">send()</span></code>, <code class="docutils literal notranslate"><span class="pre">recv()</span></code>, <code class="docutils literal notranslate"><span class="pre">getsockopt()</span></code>,
<code class="docutils literal notranslate"><span class="pre">setsockopt()</span></code>, <code class="docutils literal notranslate"><span class="pre">getsockname()</span></code>, <code class="docutils literal notranslate"><span class="pre">getpeername()</span></code>, <code class="docutils literal notranslate"><span class="pre">shutdown()</span></code>, etc. system calls. Polling on TCP
and UDP sockets via <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code>, <code class="docutils literal notranslate"><span class="pre">select()</span></code>, <code class="docutils literal notranslate"><span class="pre">epoll_*()</span></code> system calls is supported.</p>
<p>TCP sockets support only <code class="docutils literal notranslate"><span class="pre">MSG_NOSIGNAL</span></code>, <code class="docutils literal notranslate"><span class="pre">MSG_DONTWAIT</span></code> and <code class="docutils literal notranslate"><span class="pre">MSG_MORE</span></code> flags in <code class="docutils literal notranslate"><span class="pre">send()</span></code>,
<code class="docutils literal notranslate"><span class="pre">sendto()</span></code>, <code class="docutils literal notranslate"><span class="pre">sendmsg()</span></code>, <code class="docutils literal notranslate"><span class="pre">sendmmsg()</span></code> system calls. Note that <code class="docutils literal notranslate"><span class="pre">MSG_MORE</span></code> flag is ignored. UDP
sockets support only <code class="docutils literal notranslate"><span class="pre">MSG_NOSIGNAL</span></code> and <code class="docutils literal notranslate"><span class="pre">MSG_DONTWAIT</span></code> flags.</p>
<p>TCP sockets support only <code class="docutils literal notranslate"><span class="pre">MSG_PEEK</span></code>, <code class="docutils literal notranslate"><span class="pre">MSG_DONTWAIT</span></code> and <code class="docutils literal notranslate"><span class="pre">MSG_TRUNC</span></code> flags in <code class="docutils literal notranslate"><span class="pre">recv()</span></code>, <code class="docutils literal notranslate"><span class="pre">recvfrom()</span></code>,
<code class="docutils literal notranslate"><span class="pre">recvmsg()</span></code>, <code class="docutils literal notranslate"><span class="pre">recvmmsg()</span></code> system calls. UDP sockets support only <code class="docutils literal notranslate"><span class="pre">MSG_DONTWAIT</span></code> and <code class="docutils literal notranslate"><span class="pre">MSG_TRUNC</span></code>
flags.</p>
<p>TCP and UDP sockets support the following socket options:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SO_ACCEPTCONN</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_DOMAIN</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_TYPE</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_PROTOCOL</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_ERROR</span></code> (all read-only),</li>
<li><code class="docutils literal notranslate"><span class="pre">SO_RCVTIMEO</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_SNDTIMEO</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_REUSEADDR</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_REUSEPORT</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_BROADCAST</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_KEEPALIVE</span></code>,
<code class="docutils literal notranslate"><span class="pre">SO_LINGER</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_RCVBUF</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_SNDBUF</span></code>,</li>
<li><code class="docutils literal notranslate"><span class="pre">IPV6_V6ONLY</span></code>,</li>
<li><code class="docutils literal notranslate"><span class="pre">IP_RECVERR</span></code>, <code class="docutils literal notranslate"><span class="pre">IPV6_RECVERR</span></code> (allowed but ignored).</li>
</ul>
<p>TCP sockets additionally support the following socket options: <code class="docutils literal notranslate"><span class="pre">TCP_CORK</span></code>, <code class="docutils literal notranslate"><span class="pre">TCP_KEEPIDLE</span></code>,
<code class="docutils literal notranslate"><span class="pre">TCP_KEEPINTVL</span></code>, <code class="docutils literal notranslate"><span class="pre">TCP_KEEPCNT</span></code>, <code class="docutils literal notranslate"><span class="pre">TCP_NODELAY</span></code> and <code class="docutils literal notranslate"><span class="pre">TCP_USER_TIMEOUT</span></code>.</p>
<details><summary>Note on domain names configuration</summary><ul class="simple">
<li>To use libc name-resolving Berkeley socket APIs like <code class="docutils literal notranslate"><span class="pre">gethostbyname()</span></code>, <code class="docutils literal notranslate"><span class="pre">gethostbyaddr()</span></code>,
<code class="docutils literal notranslate"><span class="pre">getaddrinfo</span></code>, one must enable the <a class="reference external" href="../manifest-syntax.html#domain-names-configuration"><code class="docutils literal notranslate"><span class="pre">sys.enable_extra_runtime_domain_names_conf</span></code> manifest
option</a>.</li>
</ul>
</details><details><summary>Related system calls</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">socket()</span></code>: see notes above</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">bind()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">listen()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">accept()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">accept4()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">connect()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">close()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">shutdown()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getsockname()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getpeername()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">getsockopt()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">setsockopt()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">fstat()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">read()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">readv()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">write()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">writev()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">recv()</span></code>: see supported flags above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">recvfrom()</span></code>: see supported flags above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">recvmsg()</span></code>: see supported flags above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">recvmmsg()</span></code>: see supported flags above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">send()</span></code>: see supported flags above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendto()</span></code>: see supported flags above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendmsg()</span></code>: see supported flags above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendmmsg()</span></code>: see supported flags above</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">select()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pselect6()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">poll()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_create()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_create1()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_wait()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_pwait()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_ctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_pwait2()</span></code>: very rarely used by applications</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sendfile()</span></code>: unoptimized</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fcntl()</span></code><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">F_GETFL</span></code>: only <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">F_SETFL</span></code>: only <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">ioctl()</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIONREAD</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIONBIO</span></code></li>
</ul>
</li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/core/</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/ipv4/</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/ipv6/</span></code></li>
</ul>
</details><br /></div>
<div class="section" id="unix-domain-sockets">
<h4>UNIX domain sockets<a class="headerlink" href="#unix-domain-sockets" title="Permalink to this headline">¶</a></h4>
<p>UNIX domain sockets (UDSes) are emulated in Gramine directly as host-level pipes (to be more
specific, as socketpairs for Linux hosts). In case of SGX backend, UDSes are transparently
encrypted. For additional information on general properties of IPC in Gramine, see the <a class="reference external" href="#overview-of-inter-process-communication-ipc">“Overview of
Inter-Process Communication (IPC)” section</a>.</p>
<p>Gramine does <em>not</em> allow UDS communication between Gramine processes and the host. Gramine also does
<em>not</em> allow communication between Gramine processes from two different Gramine instances.
Communication on UDSes is possible only between two Gramine processes in the same Gramine instance.
See also the <a class="reference external" href="#pipes-and-fifos-named-pipes">“Pipes and FIFOs (named pipes)” section</a>.</p>
<p>UDSes support all Berkeley sockets APIs, including <code class="docutils literal notranslate"><span class="pre">socket()</span></code>, <code class="docutils literal notranslate"><span class="pre">bind()</span></code>, <code class="docutils literal notranslate"><span class="pre">listen()</span></code>, <code class="docutils literal notranslate"><span class="pre">connect()</span></code>,
<code class="docutils literal notranslate"><span class="pre">accept()</span></code>, <code class="docutils literal notranslate"><span class="pre">send()</span></code>, <code class="docutils literal notranslate"><span class="pre">recv()</span></code>, <code class="docutils literal notranslate"><span class="pre">getsockopt()</span></code>, <code class="docutils literal notranslate"><span class="pre">setsockopt()</span></code>, <code class="docutils literal notranslate"><span class="pre">getsockname()</span></code>, <code class="docutils literal notranslate"><span class="pre">getpeername()</span></code>,
<code class="docutils literal notranslate"><span class="pre">shutdown()</span></code>, etc. system calls. Polling on UDSes via <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code>, <code class="docutils literal notranslate"><span class="pre">select()</span></code>, <code class="docutils literal notranslate"><span class="pre">epoll_*()</span></code>
system calls is supported.</p>
<p>Named UDSes are currently not visible on the Gramine filesystem (they do not have a corresponding
dentry). This may be implemented in near future, please see the note below.</p>
<p>UDSes do <em>not</em> support ancillary data (aka control messages) in <code class="docutils literal notranslate"><span class="pre">sendmsg()</span></code> and <code class="docutils literal notranslate"><span class="pre">recvmsg()</span></code> system
calls. In particular, the <code class="docutils literal notranslate"><span class="pre">SCM_RIGHTS</span></code> type is not supported; support for this type may be added in
the future.</p>
<p>Gramine does <em>not</em> support <code class="docutils literal notranslate"><span class="pre">connect()</span></code> system call on an already bound UDS (via <code class="docutils literal notranslate"><span class="pre">bind()</span></code>).</p>
<p>UDSes support only <code class="docutils literal notranslate"><span class="pre">MSG_NOSIGNAL</span></code>, <code class="docutils literal notranslate"><span class="pre">MSG_DONTWAIT</span></code> and <code class="docutils literal notranslate"><span class="pre">MSG_MORE</span></code> flags in <code class="docutils literal notranslate"><span class="pre">send()</span></code>, <code class="docutils literal notranslate"><span class="pre">sendto()</span></code>,
<code class="docutils literal notranslate"><span class="pre">sendmsg()</span></code>, <code class="docutils literal notranslate"><span class="pre">sendmmsg()</span></code> system calls. Note that <code class="docutils literal notranslate"><span class="pre">MSG_MORE</span></code> flag is ignored.</p>
<p>UDSes support only <code class="docutils literal notranslate"><span class="pre">MSG_PEEK</span></code>, <code class="docutils literal notranslate"><span class="pre">MSG_DONTWAIT</span></code> and <code class="docutils literal notranslate"><span class="pre">MSG_TRUNC</span></code> flags in <code class="docutils literal notranslate"><span class="pre">recv()</span></code>, <code class="docutils literal notranslate"><span class="pre">recvfrom()</span></code>,
<code class="docutils literal notranslate"><span class="pre">recvmsg()</span></code>, <code class="docutils literal notranslate"><span class="pre">recvmmsg()</span></code> system calls.</p>
<p>UDSes support the following socket options:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SO_ACCEPTCONN</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_DOMAIN</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_TYPE</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_PROTOCOL</span></code>, <code class="docutils literal notranslate"><span class="pre">SO_ERROR</span></code> (all read-only),</li>
<li><code class="docutils literal notranslate"><span class="pre">SO_REUSEADDR</span></code> (ignored, same as in Linux).</li>
</ul>
<details><summary>Note on named UDSes</summary><ul class="simple">
<li>There is an effort to make named UDSes visible on the Gramine filesystem, see
<a class="reference external" href="https://github.com/gramineproject/gramine/pull/1021">https://github.com/gramineproject/gramine/pull/1021</a>.</li>
</ul>
</details><details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">socketpair()</span></code></li>
<li>For other system calls, see <a class="reference external" href="#tcp-ip-and-udp-ip-sockets">“TCP/IP and UDP/IP sockets” subsection</a>
above.</li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">/proc/sys/net/unix/</span></code></li>
<li>For other pseudo-files, see <a class="reference external" href="#tcp-ip-and-udp-ip-sockets">“TCP/IP and UDP/IP sockets” subsection</a>
above.</li>
</ul>
</details><br /></div>
</div>
<div class="section" id="i-o-multiplexing">
<h3>I/O multiplexing<a class="headerlink" href="#i-o-multiplexing" title="Permalink to this headline">¶</a></h3>
<p>Gramine implements I/O multiplexing system calls: <code class="docutils literal notranslate"><span class="pre">select()</span></code>, <code class="docutils literal notranslate"><span class="pre">pselect6()</span></code>, <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code>, as
well as the epoll family of system calls (<code class="docutils literal notranslate"><span class="pre">epoll_*()</span></code>). All these system calls are emulated via the
<code class="docutils literal notranslate"><span class="pre">ppoll()</span></code> Linux-host system call.</p>
<p>Gramine supports I/O multiplexing on pipes, FIFOs, sockets and eventfd. For peculiarities of
regular-files support, see the <a class="reference external" href="#file-system-operations">“File system operations” section</a>.</p>
<p>Timeouts and signal masks are honoured. Timeout is updated on return from corresponding system
calls.</p>
<p>Edge-triggered and level-triggered events in epoll are supported (the <code class="docutils literal notranslate"><span class="pre">EPOLLET</span></code> flag).
<code class="docutils literal notranslate"><span class="pre">EPOLLONESHOT</span></code>, <code class="docutils literal notranslate"><span class="pre">EPOLL_NEEDS_REARM</span></code> flags are supported. <code class="docutils literal notranslate"><span class="pre">EPOLLWAKEUP</span></code> flag is ignored because
Gramine does not implement autosleep.</p>
<p>Select and poll families of system calls are implemented in Gramine.</p>
<p>Epoll family of system calls has the following limitations:</p>
<ul class="simple">
<li>No sharing of an epoll instance between processes; updates in one process (e.g. adding an fd to be
monitored) won’t be visible in the other process.</li>
<li><code class="docutils literal notranslate"><span class="pre">EPOLLEXCLUSIVE</span></code> is a no-op; this is correct semantically, but may reduce performance of apps
using this flag.</li>
<li>Adding an epoll to another epoll instance is not currently supported.</li>
<li><code class="docutils literal notranslate"><span class="pre">EPOLLRDHUP</span></code> is not reported and <code class="docutils literal notranslate"><span class="pre">EPOLLHUP</span></code> is always reported together with <code class="docutils literal notranslate"><span class="pre">EPOLLERR</span></code>.</li>
</ul>
<details><summary>Note on EPOLLERR/EPOLLHUP/EPOLLRDHUP</summary><p>There is a pending <a class="reference external" href="https://github.com/gramineproject/gramine/pull/1073">GitHub pull request</a> to
distinguish between the three error conditions.</p>
</details><details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">select()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pselect6()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">poll()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">epoll_create()</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">epoll_create1()</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">epoll_wait()</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">epoll_pwait()</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">epoll_ctl()</span></code>: see notes above</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_pwait2()</span></code>: very rarely used by applications</li>
</ul>
</details><br /></div>
<div class="section" id="asynchronous-i-o">
<h3>Asynchronous I/O<a class="headerlink" href="#asynchronous-i-o" title="Permalink to this headline">¶</a></h3>
<p>There are two asynchronous I/O APIs in Linux kernel:</p>
<ul class="simple">
<li>Linux POSIX asynchronous I/O (Linux AIO, older API with <code class="docutils literal notranslate"><span class="pre">io_setup()</span></code> etc.),</li>
<li>I/O uring (io_uring, newer API with <code class="docutils literal notranslate"><span class="pre">io_uring_setup()</span></code> etc.).</li>
</ul>
<p>Gramine does <em>not</em> currently implement either of these APIs. Gramine could implement them in the
future, if need arises.</p>
<p>Note that AIO provided in userspace by glibc (<code class="docutils literal notranslate"><span class="pre">aio_read()</span></code>, <code class="docutils literal notranslate"><span class="pre">aio_write()</span></code>, etc.) does not depend on
Gramine and is supported.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_setup()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_destroy()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_getevents()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_submit()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_cancel()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_uring_setup()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_uring_enter()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_uring_register()</span></code></li>
</ul>
</details><br /></div>
<div class="section" id="event-notifications-eventfd">
<h3>Event notifications (eventfd)<a class="headerlink" href="#event-notifications-eventfd" title="Permalink to this headline">¶</a></h3>
<p>Gramine currently implements an <em>insecure</em> version of the <code class="docutils literal notranslate"><span class="pre">eventfd()</span></code> system call. It is considered
insecure in the context of SGX backend because it relies on the host OS, which could for example
maliciously drop an event or inject a random one. To enable this <code class="docutils literal notranslate"><span class="pre">eventfd()</span></code> implementation, the
manifest file must contain <a class="reference external" href="../manifest-syntax.html#allowing-eventfd"><code class="docutils literal notranslate"><span class="pre">sys.insecure__allow_eventfd</span> <span class="pre">=</span> <span class="pre">true</span></code></a>.</p>
<p>Gramine supports polling on eventfd via <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code>, <code class="docutils literal notranslate"><span class="pre">select()</span></code>, <code class="docutils literal notranslate"><span class="pre">epoll_*()</span></code> system calls.</p>
<p>Gramine may implement a secure version of <code class="docutils literal notranslate"><span class="pre">eventfd()</span></code> for communication between Gramine processes in
the future. Such secure version will <em>not</em> be able to receive events from the host OS.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">eventfd()</span></code>: insecure implementation</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">eventfd2()</span></code>: insecure implementation</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">close()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">read()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">write()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">select()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">pselect6()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">poll()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ppoll()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_create()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_create1()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_wait()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_pwait()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">epoll_ctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">epoll_pwait2()</span></code>: very rarely used by applications</li>
</ul>
</details><br /></div>
<div class="section" id="semaphores">
<h3>Semaphores<a class="headerlink" href="#semaphores" title="Permalink to this headline">¶</a></h3>
<p>There are two semaphore APIs in Linux kernel:</p>
<ul class="simple">
<li>System V semaphores (older API),</li>
<li>POSIX semaphores (newer API).</li>
</ul>
<p>POSIX semaphores are technically not a Linux kernel API. Instead, they are implemented on top of the
POSIX shared memory functionality of Linux by libc (i.e., via <code class="docutils literal notranslate"><span class="pre">/dev/shm</span></code> pseudo-filesystem).</p>
<p>Gramine does <em>not</em> currently implement either of these APIs. Gramine could implement them in
the future, if need arises.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">semget()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">semop()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">semtimedop()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">semctl()</span></code></li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">/dev/shm</span></code></li>
</ul>
</details><br /></div>
<div class="section" id="message-queues">
<h3>Message queues<a class="headerlink" href="#message-queues" title="Permalink to this headline">¶</a></h3>
<p>There are two message-queue APIs in Linux kernel:</p>
<ul class="simple">
<li>System V message queue (older API),</li>
<li>POSIX message queue (newer API).</li>
</ul>
<p>Gramine does <em>not</em> currently implement either of these APIs. Gramine could implement them in
the future, if need arises.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">msgget()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">msgctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">msgrcv()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">msgsnd()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_open()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_getsetattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_notify()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_timedreceive()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_timedsend()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">mq_unlink()</span></code></li>
</ul>
</details><br /></div>
<div class="section" id="shared-memory">
<h3>Shared memory<a class="headerlink" href="#shared-memory" title="Permalink to this headline">¶</a></h3>
<p>There are two shared-memory APIs in Linux kernel:</p>
<ul class="simple">
<li>System V shared memory (older API),</li>
<li>POSIX shared memory (newer API).</li>
</ul>
<p>Gramine does <em>not</em> currently implement either of these APIs.</p>
<p>In case of SGX backend, implementation of shared memory would be <em>insecure</em>, as shared memory by
design would be allocated in untrusted non-enclave memory, and there is no way for Gramine to
intercept memory accesses to shared memory regions (to provide some security guarantees).</p>
<details><summary>Adding limited POSIX shared memory support</summary><p>There is an effort to add limited support for POSIX shared memory, targeted for special use cases
like communication with hardware accelerators (e.g. GPUs):</p>
<ul class="simple">
<li><a class="reference external" href="https://arxiv.org/abs/2203.01813">Whitepaper</a>,</li>
<li><a class="reference external" href="https://github.com/gramineproject/gramine/issues/757">GitHub issue</a>,</li>
<li><a class="reference external" href="https://github.com/gramineproject/gramine/pull/827">GitHub pull request</a>.</li>
</ul>
</details><details><summary>Related system calls</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">shmget()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">shmat()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">shmctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">shmdt()</span></code></li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">/dev/shm</span></code>: may be implemented in the future (in a limited insecure way, see note above)</li>
</ul>
</details><br /></div>
<div class="section" id="ioctls">
<h3>IOCTLs<a class="headerlink" href="#ioctls" title="Permalink to this headline">¶</a></h3>
<p>Gramine currently implements only a minimal set of IOCTL request codes. See the list under
“Related system calls”.</p>
<details><summary>Adding support for arbitrary IOCTLs </summary><p>There is an effort to add support for specifying arbitrary IOCTLs (with arbitrary request codes and
corresponding IOCTL data structures), targeted for special use cases like communication with
hardware accelerators (e.g. GPUs):</p>
<ul class="simple">
<li><a class="reference external" href="https://arxiv.org/abs/2203.01813">Whitepaper</a>,</li>
<li><a class="reference external" href="https://github.com/gramineproject/gramine/issues/353">GitHub issue</a>,</li>
<li><a class="reference external" href="https://github.com/gramineproject/gramine/pull/671">GitHub pull request</a>.</li>
</ul>
</details><details><summary>Related system calls</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">ioctl()</span></code><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">TIOCGPGRP</span></code>: dummy</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIONBIO</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIONCLEX</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIOCLEX</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIOASYNC</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">FIONREAD</span></code></li>
</ul>
</li>
</ul>
</details><br /></div>
<div class="section" id="date-and-time">
<h3>Date and time<a class="headerlink" href="#date-and-time" title="Permalink to this headline">¶</a></h3>
<p>Gramine partially implements getting date/time: <code class="docutils literal notranslate"><span class="pre">gettimeofday()</span></code>, <code class="docutils literal notranslate"><span class="pre">time()</span></code>, <code class="docutils literal notranslate"><span class="pre">clock_gettime()</span></code>,
<code class="docutils literal notranslate"><span class="pre">clock_getres()</span></code> system calls.</p>
<p>Gramine does <em>not</em> distinguish between different clocks available for <code class="docutils literal notranslate"><span class="pre">clock_gettime()</span></code> and
<code class="docutils literal notranslate"><span class="pre">clock_getres()</span></code>. All clocks are emulated via the <code class="docutils literal notranslate"><span class="pre">CLOCK_REALTIME</span></code> clock.</p>
<p>Gramine does <em>not</em> support setting or adjusting date/time: <code class="docutils literal notranslate"><span class="pre">settimeofday()</span></code>, <code class="docutils literal notranslate"><span class="pre">clock_settime()</span></code>,
<code class="docutils literal notranslate"><span class="pre">adjtimex()</span></code>, <code class="docutils literal notranslate"><span class="pre">clock_adjtime()</span></code>.</p>
<p>Gramine does <em>not</em> currently support getting process times (like user time, system time): <code class="docutils literal notranslate"><span class="pre">times()</span></code>.</p>
<details><summary>Note on trustworthiness of date/time on SGX</summary><p>In case of SGX backend, date/time cannot be trusted because it is queried from the possibly
malicious host OS. There is currently no solution to this limitation.</p>
</details><details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">gettimeofday()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">time()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">clock_gettime()</span></code>: all clocks emulated via
<code class="docutils literal notranslate"><span class="pre">CLOCK_REALTIME</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">clock_getres()</span></code>: all clocks emulated via
<code class="docutils literal notranslate"><span class="pre">CLOCK_REALTIME</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">settimeofday()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">clock_settime()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">adjtimex()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">clock_adjtime()</span></code>: very rarely used by applications</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">times()</span></code>: may be implemented in the future</li>
</ul>
</details><br /></div>
<div class="section" id="sleeps-timers-and-alarms">
<h3>Sleeps, timers and alarms<a class="headerlink" href="#sleeps-timers-and-alarms" title="Permalink to this headline">¶</a></h3>
<p>Gramine implements sleep system calls: <code class="docutils literal notranslate"><span class="pre">nanosleep()</span></code> and <code class="docutils literal notranslate"><span class="pre">clock_nanosleep()</span></code>. For the latter system
call, all clocks are emulated via the <code class="docutils literal notranslate"><span class="pre">CLOCK_REALTIME</span></code> clock. <code class="docutils literal notranslate"><span class="pre">TIMER_ABSTIME</span></code> is supported. Both
system calls correctly update the remaining time if they were interrupted by a signal handler.</p>
<p>Gramine implements getting and setting the interval timer: <code class="docutils literal notranslate"><span class="pre">getitimer()</span></code> and <code class="docutils literal notranslate"><span class="pre">setitimer()</span></code>. Only
<code class="docutils literal notranslate"><span class="pre">ITIMER_REAL</span></code> is supported.</p>
<p>Gramine implements alarm clocks via <code class="docutils literal notranslate"><span class="pre">alarm()</span></code>.</p>
<p>Gramine does <em>not</em> currently implement the POSIX per-process timer: <code class="docutils literal notranslate"><span class="pre">timer_create()</span></code>, etc. Gramine
also does not currently implement timers that notify via file descriptors. Gramine could implement
these timers in the future, if need arises.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">nanosleep()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">clock_nanosleep()</span></code>: all clocks emulated via
<code class="docutils literal notranslate"><span class="pre">CLOCK_REALTIME</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getitimer()</span></code>: only <code class="docutils literal notranslate"><span class="pre">ITIMER_REAL</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setitimer()</span></code>: only <code class="docutils literal notranslate"><span class="pre">ITIMER_REAL</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">alarm()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_create()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_settime()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_gettime()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_getoverrun()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timer_delete()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timerfd_create()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timerfd_settime()</span></code>: may be implemented in the future</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">timerfd_gettime()</span></code>: may be implemented in the future</li>
</ul>
</details><br /></div>
<div class="section" id="randomness">
<h3>Randomness<a class="headerlink" href="#randomness" title="Permalink to this headline">¶</a></h3>
<p>Gramine implements obtaining random bytes via two Linux APIs:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">getrandom()</span></code> system call,</li>
<li><code class="docutils literal notranslate"><span class="pre">/dev/random</span></code> and <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> pseudo-files.</li>
</ul>
<p>In case of SGX backend, Gramine always uses only one source of random bytes: the RDRAND x86
instruction. This is a secure source of randomness.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">getrandom()</span></code></li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/random</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code></li>
</ul>
</details><br /></div>
<div class="section" id="system-information-and-resource-accounting">
<h3>System information and resource accounting<a class="headerlink" href="#system-information-and-resource-accounting" title="Permalink to this headline">¶</a></h3>
<p>Gramine does <em>not</em> support getting resource usage metrics via the <code class="docutils literal notranslate"><span class="pre">getrusage()</span></code> system call.</p>
<p>Gramine reports only minimal set of system information via the <code class="docutils literal notranslate"><span class="pre">sysinfo()</span></code> system call: only
<code class="docutils literal notranslate"><span class="pre">totalram</span></code>, <code class="docutils literal notranslate"><span class="pre">totalhigh</span></code>, <code class="docutils literal notranslate"><span class="pre">freeram</span></code> and <code class="docutils literal notranslate"><span class="pre">freehigh</span></code> fields are populated.</p>
<p>Gramine reports only minimal set of kernel information via the <code class="docutils literal notranslate"><span class="pre">uname()</span></code> system call: only
<code class="docutils literal notranslate"><span class="pre">sysname</span></code>, <code class="docutils literal notranslate"><span class="pre">nodename</span></code>, <code class="docutils literal notranslate"><span class="pre">release</span></code>, <code class="docutils literal notranslate"><span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">machine</span></code> and <code class="docutils literal notranslate"><span class="pre">domainname</span></code> fields are populated. Out of
these, only <code class="docutils literal notranslate"><span class="pre">nodename</span></code> is populated with host-provided name. The rest fields are hard-coded (e.g.
<code class="docutils literal notranslate"><span class="pre">release</span></code> is currently hard-coded to <code class="docutils literal notranslate"><span class="pre">3.10.0</span></code>).</p>
<p>Gramine has dummy support for setting hostname and domain name via <code class="docutils literal notranslate"><span class="pre">sethostname()</span></code> and
<code class="docutils literal notranslate"><span class="pre">setdomainname()</span></code>. The set names are <em>not</em> propagated to the host OS or other Gramine processes.</p>
<p>Gramine has minimal and mostly dummy support for getting and setting resource limits, via
<code class="docutils literal notranslate"><span class="pre">getrlimit()</span></code>, <code class="docutils literal notranslate"><span class="pre">setrlimit()</span></code>, <code class="docutils literal notranslate"><span class="pre">prlimit64()</span></code>. The <code class="docutils literal notranslate"><span class="pre">prlimit64()</span></code> syscall can be issued only on the
current process. The following resources are supported:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_CPU</span></code> – dummy, no limit by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_FSIZE</span></code> – dummy, no limit by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_DATA</span></code> – implemented, affects <code class="docutils literal notranslate"><span class="pre">brk()</span></code> system call</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_STACK</span></code> – dummy, equal to <a class="reference external" href="../manifest-syntax.html#stack-size"><code class="docutils literal notranslate"><span class="pre">sys.stack.size</span></code></a> by
default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_CORE</span></code> – dummy, zero by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_RSS</span></code> – dummy, no limit by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_NPROC</span></code> – dummy, no limit by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_NOFILE</span></code> – implemented, default soft limit is 900, default hard limit is 65K</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_MEMLOCK</span></code> – dummy, no limit by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_AS</span></code> – dummy, no limit by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_LOCKS</span></code> – dummy, no limit by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_SIGPENDING</span></code> – dummy, no limit by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_MSGQUEUE</span></code> – dummy, ~800K by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_NICE</span></code> – dummy, zero by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_RTPRIO</span></code> – dummy, zero by default</li>
<li><code class="docutils literal notranslate"><span class="pre">RLIMIT_RTTIME</span></code> – dummy, no limit by default</li>
</ul>
<p>Gramine supports the <code class="docutils literal notranslate"><span class="pre">/proc/cpuinfo</span></code>, <code class="docutils literal notranslate"><span class="pre">/proc/meminfo</span></code>, <code class="docutils literal notranslate"><span class="pre">/proc/stat</span></code> pseudo-files with system
information. In addition, Gramine supports CPU- and NUMA-node-specific pseudo-files under
<code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/</span></code> and <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/</span></code>. See the list under “Related
pseudo-files”. For additional pseudo-files containing process-specific information, see the
<a class="reference external" href="#process-and-thread-identifiers">“Process and thread identifiers” section</a>.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">getrusage()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sysinfo()</span></code>: only <code class="docutils literal notranslate"><span class="pre">totalram</span></code>, <code class="docutils literal notranslate"><span class="pre">totalhigh</span></code>, <code class="docutils literal notranslate"><span class="pre">freeram</span></code>
and <code class="docutils literal notranslate"><span class="pre">freehigh</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">uname()</span></code>: only <code class="docutils literal notranslate"><span class="pre">sysname</span></code>, <code class="docutils literal notranslate"><span class="pre">nodename</span></code>, <code class="docutils literal notranslate"><span class="pre">release</span></code>,
<code class="docutils literal notranslate"><span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">machine</span></code> and <code class="docutils literal notranslate"><span class="pre">domainname</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">sethostname()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setdomainname()</span></code>: dummy</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getrlimit()</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">setrlimit()</span></code>: see notes above</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">prlimit64()</span></code>: see notes above</li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/cpuinfo</span></code>: partially implemented<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">processor</span></code>, <code class="docutils literal notranslate"><span class="pre">vendor_id</span></code>, <code class="docutils literal notranslate"><span class="pre">cpu</span> <span class="pre">family</span></code>, <code class="docutils literal notranslate"><span class="pre">model</span></code>, <code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">stepping</span></code>,
<code class="docutils literal notranslate"><span class="pre">physical</span> <span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">core</span> <span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">cpu</span> <span class="pre">cores</span></code>, <code class="docutils literal notranslate"><span class="pre">bogomips</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">flags</span></code>: all known CPU flags</li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/meminfo</span></code>: partially implemented<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">MemTotal</span></code>, <code class="docutils literal notranslate"><span class="pre">MemFree</span></code>, <code class="docutils literal notranslate"><span class="pre">MemAvailable</span></code>, <code class="docutils literal notranslate"><span class="pre">Committed_AS</span></code>, <code class="docutils literal notranslate"><span class="pre">VmallocTotal</span></code></li>
<li>☒ rest fields: always zero</li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/proc/stat</span></code>: dummy<ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">cpu</span></code> line: all fields are zeros</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">cpuX</span></code> lines: all fields are zeros</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">ctxt</span></code> line: always zero</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">btime</span></code> line: always zero</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">processes</span></code> line: always one</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">procs_running</span></code> line: always one</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">procs_blocked</span></code> line: always zero</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">intr</span></code> line</li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">softirq</span></code> line</li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/</span></code>: only most important files
implemented<ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/</span></code><ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/coherency_line_size</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/level</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/number_of_sets</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/physical_line_partition</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/shared_cpu_map</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/size</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/cache/index[x]/type</span></code></li>
</ul>
</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/online</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/core_id</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/core_siblings</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/physical_package_id</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/cpu[x]/topology/thread_siblings</span></code></li>
</ul>
</li>
</ul>
</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/online</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/cpu/possible</span></code></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/</span></code>: only most important files
implemented<ul>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/cpumap</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/distance</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/hugepages/</span></code><ul>
<li>▣
<code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/hugepages/hugepages-[y]/nr_hugepages</span></code>: always zero</li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/sys/devices/system/node/node[x]/meminfo</span></code>:
partially implemented<ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">MemTotal</span></code>, <code class="docutils literal notranslate"><span class="pre">MemFree</span></code>, <code class="docutils literal notranslate"><span class="pre">MemUsed</span></code></li>
<li>☒ rest fields: always zero</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</details><br /></div>
<div class="section" id="misc">
<h3>Misc<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h3>
<p>Gramine implements vDSO, with four functions: <code class="docutils literal notranslate"><span class="pre">__vdso_clock_gettime()</span></code>, <code class="docutils literal notranslate"><span class="pre">__vdso_gettimeofday()</span></code>,
<code class="docutils literal notranslate"><span class="pre">__vdso_time()</span></code>, <code class="docutils literal notranslate"><span class="pre">__vdso_getcpu()</span></code>. These functions invoke the corresponding system calls, see the
<a class="reference external" href="#date-and-time">“Date and time” section</a> and the <a class="reference external" href="#scheduling">“Scheduling” section</a>.</p>
<p>Gramine implements operations on file descriptors (FDs):</p>
<ul class="simple">
<li>duplicating FDs via <code class="docutils literal notranslate"><span class="pre">dup()</span></code>, <code class="docutils literal notranslate"><span class="pre">dup2()</span></code>, <code class="docutils literal notranslate"><span class="pre">dup3()</span></code>, <code class="docutils literal notranslate"><span class="pre">fcntl(F_DUPFD)</span></code>, <code class="docutils literal notranslate"><span class="pre">fcntl(F_DUPFD_CLOEXEC)</span></code>,</li>
<li>getting/setting FD flags via <code class="docutils literal notranslate"><span class="pre">fcntl(F_GETFD)</span></code> and <code class="docutils literal notranslate"><span class="pre">fcntl(F_SETFD)</span></code>; the only flag is <code class="docutils literal notranslate"><span class="pre">FD_CLOEXEC</span></code>.</li>
</ul>
<p>Gramine implements several arch-specific (x86-64) operations:</p>
<ul class="simple">
<li>getting/setting the FS segment register via <code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_GET_FS)</span></code> and
<code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_SET_FS)</span></code>,</li>
<li>getting/setting the Intel AMX feature via <code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_GET_XCOMP_SUPP)</span></code>,
<code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_GET_XCOMP_PERM)</span></code> and <code class="docutils literal notranslate"><span class="pre">arch_prctl(ARCH_REQ_XCOMP_PERM)</span></code>.</li>
</ul>
<p>Gramine implements the <code class="docutils literal notranslate"><span class="pre">/dev/null</span></code> and <code class="docutils literal notranslate"><span class="pre">/dev/zero</span></code> pseudo-files.</p>
<details><summary>Related system calls</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">gettimeofday()</span></code>: implemented in vDSO</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">clock_gettime()</span></code>: implemented in vDSO</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">time()</span></code>: implemented in vDSO</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">getcpu()</span></code>: implemented in vDSO</li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">dup()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">dup2()</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">dup3()</span></code></li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">fcntl()</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">F_DUPFD</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">F_DUPFD_CLOEXEC</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">F_GETFD</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">F_SETFD</span></code></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">arch_prctl()</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ARCH_GET_XCOMP_SUPP</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ARCH_GET_XCOMP_PERM</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">ARCH_REQ_XCOMP_PERM</span></code></li>
</ul>
</li>
</ul>
</details><details><summary>Related pseudo-files</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/null</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/zero</span></code></li>
</ul>
</li>
</ul>
</details><br /></div>
<div class="section" id="advanced-infeasible-unimplemented-features">
<h3>Advanced/infeasible, unimplemented features<a class="headerlink" href="#advanced-infeasible-unimplemented-features" title="Permalink to this headline">¶</a></h3>
<p>Gramine does not implement the following classes of features. This is by design, to keep the
codebase of Gramine minimal.</p>
<ul class="simple">
<li>Berkeley Packet Filters (BPF) and eBPF: <code class="docutils literal notranslate"><span class="pre">bpf()</span></code></li>
<li>Capabilities: <code class="docutils literal notranslate"><span class="pre">capget()</span></code>, <code class="docutils literal notranslate"><span class="pre">capset()</span></code></li>
<li>Execution control and debugging: <code class="docutils literal notranslate"><span class="pre">ptrace()</span></code>, <code class="docutils literal notranslate"><span class="pre">syslog()</span></code>, <code class="docutils literal notranslate"><span class="pre">perf_event_open()</span></code>, <code class="docutils literal notranslate"><span class="pre">acct()</span></code></li>
<li>Extended attributes for files and directories (xattr): <code class="docutils literal notranslate"><span class="pre">setxattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">lsetxattr()</span></code>,
<code class="docutils literal notranslate"><span class="pre">fsetxattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">getxattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">lgetxattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">fgetxattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">listxattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">llistxattr()</span></code>,
<code class="docutils literal notranslate"><span class="pre">flistxattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">removexattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">lremovexattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">fremovexattr()</span></code></li>
<li>In-kernel key management (keyrings): <code class="docutils literal notranslate"><span class="pre">add_key()</span></code>, <code class="docutils literal notranslate"><span class="pre">request_key()</span></code>, <code class="docutils literal notranslate"><span class="pre">keyctl()</span></code></li>
<li>Kernel modules: <code class="docutils literal notranslate"><span class="pre">create_module()</span></code>, <code class="docutils literal notranslate"><span class="pre">init_module()</span></code>, <code class="docutils literal notranslate"><span class="pre">finit_module()</span></code>, <code class="docutils literal notranslate"><span class="pre">delete_module()</span></code>,
<code class="docutils literal notranslate"><span class="pre">query_module()</span></code>, <code class="docutils literal notranslate"><span class="pre">get_kernel_syms()</span></code></li>
<li>Memory Protection Keys: <code class="docutils literal notranslate"><span class="pre">pkey_alloc()</span></code>, <code class="docutils literal notranslate"><span class="pre">pkey_mprotect()</span></code>, <code class="docutils literal notranslate"><span class="pre">pkey_free()</span></code></li>
<li>Namespaces: <code class="docutils literal notranslate"><span class="pre">setns()</span></code>, <code class="docutils literal notranslate"><span class="pre">unshare()</span></code></li>
<li>Paging and swapping: <code class="docutils literal notranslate"><span class="pre">swapon()</span></code>, <code class="docutils literal notranslate"><span class="pre">swapoff()</span></code>, <code class="docutils literal notranslate"><span class="pre">readahead()</span></code></li>
<li>Process execution domain: <code class="docutils literal notranslate"><span class="pre">personality()</span></code></li>
<li>Secure Computing (seccomp) state: <code class="docutils literal notranslate"><span class="pre">seccomp()</span></code></li>
<li>Session management: <code class="docutils literal notranslate"><span class="pre">getsid()</span></code>, <code class="docutils literal notranslate"><span class="pre">setsid()</span></code></li>
<li>Zero-copy transfer of data: <code class="docutils literal notranslate"><span class="pre">splice()</span></code>, <code class="docutils literal notranslate"><span class="pre">tee()</span></code>, <code class="docutils literal notranslate"><span class="pre">vmsplice()</span></code>, <code class="docutils literal notranslate"><span class="pre">copy_file_range()</span></code></li>
<li>Transfer of data between processes: <code class="docutils literal notranslate"><span class="pre">process_vm_readv()</span></code>, <code class="docutils literal notranslate"><span class="pre">process_vm_writev()</span></code></li>
<li>Filesystem configuration context: <code class="docutils literal notranslate"><span class="pre">fsopen()</span></code>, <code class="docutils literal notranslate"><span class="pre">fsconfig()</span></code>, <code class="docutils literal notranslate"><span class="pre">fspick()</span></code>, <code class="docutils literal notranslate"><span class="pre">fsmount()</span></code></li>
<li>Landlock: <code class="docutils literal notranslate"><span class="pre">landlock_create_ruleset()</span></code>, <code class="docutils literal notranslate"><span class="pre">landlock_add_rule()</span></code>, <code class="docutils literal notranslate"><span class="pre">landlock_restrict_self()</span></code></li>
<li>Misc: <code class="docutils literal notranslate"><span class="pre">vhangup()</span></code>, <code class="docutils literal notranslate"><span class="pre">modify_ldt()</span></code>, <code class="docutils literal notranslate"><span class="pre">kexec_load()</span></code>, <code class="docutils literal notranslate"><span class="pre">kexec_file_load()</span></code>, <code class="docutils literal notranslate"><span class="pre">reboot()</span></code>, <code class="docutils literal notranslate"><span class="pre">iopl()</span></code>,
<code class="docutils literal notranslate"><span class="pre">ioperm()</span></code>, <code class="docutils literal notranslate"><span class="pre">uselib()</span></code>, <code class="docutils literal notranslate"><span class="pre">_sysctl()</span></code>, <code class="docutils literal notranslate"><span class="pre">quotactl()</span></code>, <code class="docutils literal notranslate"><span class="pre">quotactl_fd()</span></code>, <code class="docutils literal notranslate"><span class="pre">nfsservctl()</span></code>, <code class="docutils literal notranslate"><span class="pre">getpmsg()</span></code>,
<code class="docutils literal notranslate"><span class="pre">putpmsg()</span></code>, <code class="docutils literal notranslate"><span class="pre">afs_syscall()</span></code>, <code class="docutils literal notranslate"><span class="pre">tuxcall()</span></code>, <code class="docutils literal notranslate"><span class="pre">security()</span></code>, <code class="docutils literal notranslate"><span class="pre">lookup_dcookie()</span></code>, <code class="docutils literal notranslate"><span class="pre">restart_syscall()</span></code>,
<code class="docutils literal notranslate"><span class="pre">vserver()</span></code>, <code class="docutils literal notranslate"><span class="pre">io_pgetevents()</span></code>, <code class="docutils literal notranslate"><span class="pre">rseq()</span></code>, <code class="docutils literal notranslate"><span class="pre">open_tree()</span></code>, <code class="docutils literal notranslate"><span class="pre">close_range()</span></code></li>
</ul>
<details><summary>Related system calls</summary><ul class="simple">
<li>☒ <code class="docutils literal notranslate"><span class="pre">_sysctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">acct()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">add_key()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">afs_syscall()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">bpf()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">capget()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">capset()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">close_range()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">copy_file_range()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">create_module()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">delete_module()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fgetxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">finit_module()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">flistxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fremovexattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fsconfig()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fsetxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fsmount()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fsopen()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">fspick()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">get_kernel_syms()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getpmsg()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getsid()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">getxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">init_module()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">io_pgetevents()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ioperm()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">iopl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">kexec_file_load()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">kexec_load()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">keyctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">landlock_add_rule()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">landlock_create_ruleset()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">landlock_restrict_self()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lgetxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">listxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">llistxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lookup_dcookie()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lremovexattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">lsetxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">modify_ldt()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">nfsservctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">nfsservctl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">open_tree()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">perf_event_open()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">personality()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pkey_alloc()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pkey_free()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">pkey_mprotect()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_vm_readv()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">process_vm_writev()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">ptrace()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">putpmsg()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">query_module()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">quotactl()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">quotactl_fd()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">readahead()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">reboot()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">removexattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">request_key()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">restart_syscall()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">rseq()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">seccomp()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">security()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setns()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setsid()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">setxattr()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">splice()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">swapoff()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">swapon()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">syslog()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">tee()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">tuxcall()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">unshare()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">uselib()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">vhangup()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">vmsplice()</span></code></li>
<li>☒ <code class="docutils literal notranslate"><span class="pre">vserver()</span></code></li>
</ul>
</details><br /></div>
</div>
<div class="section" id="gramine-specific-features">
<h2>Gramine-specific features<a class="headerlink" href="#gramine-specific-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="attestation">
<h3>Attestation<a class="headerlink" href="#attestation" title="Permalink to this headline">¶</a></h3>
<p>Gramine exposes low-level abstractions of attestation report and attestation quote objects (<em>SGX
Report</em> and <em>SGX Quote</em> accordingly, in case of SGX backend) through the <code class="docutils literal notranslate"><span class="pre">/dev/attestation/</span></code>
pseudo-filesystem. Manipulating with the <code class="docutils literal notranslate"><span class="pre">/dev/attestation/</span></code> pseudo-files allows to program local
attestation and remote attestation flows. Additionally, the <code class="docutils literal notranslate"><span class="pre">/dev/attestation/keys/</span></code> pseudo-dir
exposes pseudo-files to set encryption keys (in particular, for encrypted files).</p>
<p>For detailed information, refer to the <a class="reference external" href="../attestation.html#low-level-dev-attestation-interface">“Attestation and Secret Provisioning” documentation of
Gramine</a>.</p>
<details><summary>Related pseudo-files</summary><ul class="simple">
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/attestation_type</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/user_report_data</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/target_info</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/my_target_info</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/report</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/quote</span></code></li>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/keys</span></code><ul>
<li>☑ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/keys/&lt;key_name&gt;</span></code></li>
</ul>
</li>
<li>▣ <code class="docutils literal notranslate"><span class="pre">/dev/attestation/protected_files_key</span></code>: deprecated</li>
</ul>
</li>
</ul>
</details><br /></div>
</div>
<div class="section" id="notes-on-system-v-abi">
<h2>Notes on System V ABI<a class="headerlink" href="#notes-on-system-v-abi" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>⚠ Below description assumes x86-64 architecture.</div></blockquote>
<p>Gramine implements the system-call entry point (analogous to the <code class="docutils literal notranslate"><span class="pre">SYSCALL</span></code> x86 instruction ABI).
Instead of performing a context switch from userland (ring-3) to kernelspace (ring-0), Gramine
relies on the system call being routed directly into Gramine process. There are two paths how the
application’s system call requests end up in Gramine emulation:</p>
<ol class="simple">
<li>Fast path, through patched C standard library (e.g. Glibc or musl): Gramine ships patched Glibc
and musl where raw <code class="docutils literal notranslate"><span class="pre">SYSCALL</span></code> instructions are replaced with function calls into Gramine’s syscall
entry point.</li>
<li>Slow path, through an exception-handling mechanism:<ul>
<li>In case of Linux backend, Gramine sets up a seccomp policy that redirects all syscall requests
from the Linux kernel back into the Gramine process.</li>
<li>In case of SGX backend, Intel SGX hardware itself forbids the <code class="docutils literal notranslate"><span class="pre">SYSCALL</span></code> instruction and instead
generates a <code class="docutils literal notranslate"><span class="pre">#UD</span></code> (illegal instruction) exception, which is delivered into the Gramine process.</li>
</ul>
</li>
</ol>
<p>The fast path is recommended for all applications. However, some applications bypass Glibc/musl and
issue raw <code class="docutils literal notranslate"><span class="pre">SYSCALL</span></code> instructions (e.g., Golang statically compiled binaries); in this case the slow
path is activated.</p>
<p>Gramine’s syscall entry point implementation first saves the CPU context of the current application
thread on the internal stack, then calls the syscall-emulation function, which, upon returning,
calls context restoring function, which passes control back to the application thread.  The context
consists of GPRs, FP control word (fpcw) and the SSE/AVX/… control word (mxcsr).</p>
<p>Note that Gramine may clobber all FP/SSE/AVX/… (extended) state except the control words. We rely
on the fact that applications do <em>not</em> assume that this extended state is preserved across system
calls. Indeed, the extended state (bar control words) is explicitly described as <em>not</em> preserved by
the System V ABI, and we assume that no sane application issues syscalls in a non-System-V compliant
manner. See <a class="reference external" href="https://uclibc.org/docs/psABI-x86_64.pdf">System V ABI docs, “Register Usage”</a> for more
information.</p>
<p>Gramine supports Linux x86-64 signal frames.</p>
</div>
<div class="section" id="notes-on-application-loading">
<h2>Notes on application loading<a class="headerlink" href="#notes-on-application-loading" title="Permalink to this headline">¶</a></h2>
<p>Gramine can execute only ELF binaries (executables and libraries) and executable scripts. Other
formats are not supported.</p>
</div>
</div>


           </div>
           
          </div>

          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../pal/host-abi.html" class="btn btn-neutral float-right" title="PAL host ABI" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="packaging.html" class="btn btn-neutral float-left" title="Packaging and distributing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, Gramine Contributors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>